<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66-ea) on Mon Jun 13 09:42:40 CEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>org.apache.lucene.search.highlight (Lucene 6.1.0 API)</title>
<meta name="date" content="2016-06-13">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.apache.lucene.search.highlight (Lucene 6.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../../org/apache/lucene/search/postingshighlight/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/highlight/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.lucene.search.highlight</h1>
<div class="docSummary">
<div class="block">Highlighting search terms.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/Encoder.html" title="interface in org.apache.lucene.search.highlight">Encoder</a></td>
<td class="colLast">
<div class="block">Encodes original text.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/Formatter.html" title="interface in org.apache.lucene.search.highlight">Formatter</a></td>
<td class="colLast">
<div class="block">Processes terms found in the original text, typically by applying some form 
 of mark-up to highlight terms in HTML search results pages.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/Fragmenter.html" title="interface in org.apache.lucene.search.highlight">Fragmenter</a></td>
<td class="colLast">
<div class="block">Implements the policy for breaking text into multiple fragments for
 consideration by the <a href="../../../../../org/apache/lucene/search/highlight/Highlighter.html" title="class in org.apache.lucene.search.highlight"><code>Highlighter</code></a> class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/Scorer.html" title="interface in org.apache.lucene.search.highlight">Scorer</a></td>
<td class="colLast">
<div class="block">A Scorer is responsible for scoring a stream of tokens.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/DefaultEncoder.html" title="class in org.apache.lucene.search.highlight">DefaultEncoder</a></td>
<td class="colLast">
<div class="block">Simple <a href="../../../../../org/apache/lucene/search/highlight/Encoder.html" title="interface in org.apache.lucene.search.highlight"><code>Encoder</code></a> implementation that does not modify the output</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/GradientFormatter.html" title="class in org.apache.lucene.search.highlight">GradientFormatter</a></td>
<td class="colLast">
<div class="block">Formats text with different color intensity depending on the score of the
 term.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/Highlighter.html" title="class in org.apache.lucene.search.highlight">Highlighter</a></td>
<td class="colLast">
<div class="block">Class used to markup highlighted terms found in the best sections of a
 text, using configurable <a href="../../../../../org/apache/lucene/search/highlight/Fragmenter.html" title="interface in org.apache.lucene.search.highlight"><code>Fragmenter</code></a>, <a href="../../../../../org/apache/lucene/search/highlight/Scorer.html" title="interface in org.apache.lucene.search.highlight"><code>Scorer</code></a>, <a href="../../../../../org/apache/lucene/search/highlight/Formatter.html" title="interface in org.apache.lucene.search.highlight"><code>Formatter</code></a>,
 <a href="../../../../../org/apache/lucene/search/highlight/Encoder.html" title="interface in org.apache.lucene.search.highlight"><code>Encoder</code></a> and tokenizers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/NullFragmenter.html" title="class in org.apache.lucene.search.highlight">NullFragmenter</a></td>
<td class="colLast">
<div class="block"><a href="../../../../../org/apache/lucene/search/highlight/Fragmenter.html" title="interface in org.apache.lucene.search.highlight"><code>Fragmenter</code></a> implementation which does not fragment the text.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/OffsetLimitTokenFilter.html" title="class in org.apache.lucene.search.highlight">OffsetLimitTokenFilter</a></td>
<td class="colLast">
<div class="block">This TokenFilter limits the number of tokens while indexing by adding up the
 current offset.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/PositionSpan.html" title="class in org.apache.lucene.search.highlight">PositionSpan</a></td>
<td class="colLast">
<div class="block">Utility class to record Positions Spans</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/QueryScorer.html" title="class in org.apache.lucene.search.highlight">QueryScorer</a></td>
<td class="colLast">
<div class="block"><a href="../../../../../org/apache/lucene/search/highlight/Scorer.html" title="interface in org.apache.lucene.search.highlight"><code>Scorer</code></a> implementation which scores text fragments by the number of
 unique query terms found.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/QueryTermExtractor.html" title="class in org.apache.lucene.search.highlight">QueryTermExtractor</a></td>
<td class="colLast">
<div class="block">Utility class used to extract the terms used in a query, plus any weights.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/QueryTermScorer.html" title="class in org.apache.lucene.search.highlight">QueryTermScorer</a></td>
<td class="colLast">
<div class="block"><a href="../../../../../org/apache/lucene/search/highlight/Scorer.html" title="interface in org.apache.lucene.search.highlight"><code>Scorer</code></a> implementation which scores text fragments by the number of
 unique query terms found.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/SimpleFragmenter.html" title="class in org.apache.lucene.search.highlight">SimpleFragmenter</a></td>
<td class="colLast">
<div class="block"><a href="../../../../../org/apache/lucene/search/highlight/Fragmenter.html" title="interface in org.apache.lucene.search.highlight"><code>Fragmenter</code></a> implementation which breaks text up into same-size
 fragments with no concerns over spotting sentence boundaries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/SimpleHTMLEncoder.html" title="class in org.apache.lucene.search.highlight">SimpleHTMLEncoder</a></td>
<td class="colLast">
<div class="block">Simple <a href="../../../../../org/apache/lucene/search/highlight/Encoder.html" title="interface in org.apache.lucene.search.highlight"><code>Encoder</code></a> implementation to escape text for HTML output</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/SimpleHTMLFormatter.html" title="class in org.apache.lucene.search.highlight">SimpleHTMLFormatter</a></td>
<td class="colLast">
<div class="block">Simple <a href="../../../../../org/apache/lucene/search/highlight/Formatter.html" title="interface in org.apache.lucene.search.highlight"><code>Formatter</code></a> implementation to highlight terms with a pre and
 post tag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/SimpleSpanFragmenter.html" title="class in org.apache.lucene.search.highlight">SimpleSpanFragmenter</a></td>
<td class="colLast">
<div class="block"><a href="../../../../../org/apache/lucene/search/highlight/Fragmenter.html" title="interface in org.apache.lucene.search.highlight"><code>Fragmenter</code></a> implementation which breaks text up into same-size
 fragments but does not split up <a href="../../../../../../core/org/apache/lucene/search/spans/Spans.html?is-external=true" title="class or interface in org.apache.lucene.search.spans"><code>Spans</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/SpanGradientFormatter.html" title="class in org.apache.lucene.search.highlight">SpanGradientFormatter</a></td>
<td class="colLast">
<div class="block">Formats text with different color intensity depending on the score of the
 term using the span tag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/TermVectorLeafReader.html" title="class in org.apache.lucene.search.highlight">TermVectorLeafReader</a></td>
<td class="colLast">
<div class="block">Wraps a Terms with a <a href="../../../../../../core/org/apache/lucene/index/LeafReader.html?is-external=true" title="class or interface in org.apache.lucene.index"><code>LeafReader</code></a>, typically from term vectors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/TextFragment.html" title="class in org.apache.lucene.search.highlight">TextFragment</a></td>
<td class="colLast">
<div class="block">Low-level class used to record information about a section of a document 
 with a score.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/TokenGroup.html" title="class in org.apache.lucene.search.highlight">TokenGroup</a></td>
<td class="colLast">
<div class="block">One, or several overlapping tokens, along with the score(s) and the scope of
 the original text.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/TokenSources.html" title="class in org.apache.lucene.search.highlight">TokenSources</a></td>
<td class="colLast">
<div class="block">Convenience methods for obtaining a <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis"><code>TokenStream</code></a> for use with the <a href="../../../../../org/apache/lucene/search/highlight/Highlighter.html" title="class in org.apache.lucene.search.highlight"><code>Highlighter</code></a> - can obtain from
 term vectors with offsets and positions or from an Analyzer re-parsing the stored content.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/TokenStreamFromTermVector.html" title="class in org.apache.lucene.search.highlight">TokenStreamFromTermVector</a></td>
<td class="colLast">
<div class="block">TokenStream created from a term vector field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/WeightedSpanTerm.html" title="class in org.apache.lucene.search.highlight">WeightedSpanTerm</a></td>
<td class="colLast">
<div class="block">Lightweight class to hold term, weight, and positions used for scoring this
 term.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/WeightedSpanTermExtractor.html" title="class in org.apache.lucene.search.highlight">WeightedSpanTermExtractor</a></td>
<td class="colLast">
<div class="block">Class used to extract <a href="../../../../../org/apache/lucene/search/highlight/WeightedSpanTerm.html" title="class in org.apache.lucene.search.highlight"><code>WeightedSpanTerm</code></a>s from a <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search"><code>Query</code></a> based on whether 
 <a href="../../../../../../core/org/apache/lucene/index/Term.html?is-external=true" title="class or interface in org.apache.lucene.index"><code>Term</code></a>s from the <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search"><code>Query</code></a> are contained in a supplied <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis"><code>TokenStream</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/WeightedSpanTermExtractor.PositionCheckingMap.html" title="class in org.apache.lucene.search.highlight">WeightedSpanTermExtractor.PositionCheckingMap</a>&lt;K&gt;</td>
<td class="colLast">
<div class="block">This class makes sure that if both position sensitive and insensitive
 versions of the same term are added, the position insensitive one wins.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/WeightedTerm.html" title="class in org.apache.lucene.search.highlight">WeightedTerm</a></td>
<td class="colLast">
<div class="block">Lightweight class to hold term and a weight value used for scoring this term</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/highlight/InvalidTokenOffsetsException.html" title="class in org.apache.lucene.search.highlight">InvalidTokenOffsetsException</a></td>
<td class="colLast">
<div class="block">Exception thrown if TokenStream Tokens are incompatible with provided text</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.apache.lucene.search.highlight Description">Package org.apache.lucene.search.highlight Description</h2>
<div class="block">Highlighting search terms.
 <p>
 The highlight package contains classes to provide "keyword in context" features
 typically used to highlight search terms in the text of results pages.
 The Highlighter class is the central component and can be used to extract the
 most interesting sections of a piece of text and highlight them, with the help of
 Fragmenter, fragment Scorer, and Formatter classes.
 
 <h2>Example Usage</h2>

 <pre class="prettyprint">
 //... Above, create documents with two fields, one with term vectors (tv) and one without (notv)
 IndexSearcher searcher = new IndexSearcher(directory);
 QueryParser parser = new QueryParser("notv", analyzer);
 Query query = parser.parse("million");
 
   TopDocs hits = searcher.search(query, 10);
 
   SimpleHTMLFormatter htmlFormatter = new SimpleHTMLFormatter();
   Highlighter highlighter = new Highlighter(htmlFormatter, new QueryScorer(query));
   for (int i = 0; i &lt; 10; i++) {
     int id = hits.scoreDocs[i].doc;
     Document doc = searcher.doc(id);
     String text = doc.get("notv");
     TokenStream tokenStream = TokenSources.getAnyTokenStream(searcher.getIndexReader(), id, "notv", analyzer);
     TextFragment[] frag = highlighter.getBestTextFragments(tokenStream, text, false, 10);//highlighter.getBestFragments(tokenStream, text, 3, "...");
     for (int j = 0; j &lt; frag.length; j++) {
       if ((frag[j] != null) &amp;&amp; (frag[j].getScore() &gt; 0)) {
         System.out.println((frag[j].toString()));
       }
     }
     //Term vector
     text = doc.get("tv");
     tokenStream = TokenSources.getAnyTokenStream(searcher.getIndexReader(), hits.scoreDocs[i].doc, "tv", analyzer);
     frag = highlighter.getBestTextFragments(tokenStream, text, false, 10);
     for (int j = 0; j &lt; frag.length; j++) {
       if ((frag[j] != null) &amp;&amp; (frag[j].getScore() &gt; 0)) {
         System.out.println((frag[j].toString()));
       }
     }
     System.out.println("-------------");
   }
 </pre>
 
 <h2>New features 06/02/2005</h2>
 
 This release adds options for encoding (thanks to Nicko Cadell).
 An "Encoder" implementation such as the new SimpleHTMLEncoder class can be passed to the highlighter to encode
 all those non-xhtml standard characters such as &amp; into legal values. This simple class may not suffice for
 some languages -  Commons Lang has an implementation that could be used: escapeHtml(String) in
 http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/lang/trunk/src/java/org/apache/commons/lang/StringEscapeUtils.java?rev=137958&amp;view=markup
 
 <h2>New features 22/12/2004</h2>
 
 This release adds some new capabilities:
 <ol>
   <li>Faster highlighting using Term vector support</li>
   <li>New formatting options to use color intensity to show informational value</li>
   <li>Options for better summarization by using term IDF scores to influence fragment selection</li>
 </ol>
 
 <p>
 The highlighter takes a TokenStream as input. Until now these streams have typically been produced
 using an Analyzer but the new class TokenSources provides helper methods for obtaining TokenStreams from
 the new TermVector position support (see latest CVS version).</p>
 
 <p>The new class GradientFormatter can use a scale of colors to highlight terms according to their score.
 A subtle use of color can help emphasise the reasons for matching (useful when doing "MoreLikeThis" queries and
 you want to see what the basis of the similarities are).</p>
 
 <p>The QueryScorer class has a new constructor which can use an IndexReader to derive the IDF (inverse document frequency)
 for each term in order to influence the score. This is useful for helping to extracting the most significant sections
 of a document and in supplying scores used by the new GradientFormatter to color significant words more strongly.
 The QueryScorer.getMaxWeight method is useful when passed to the GradientFormatter constructor to define the top score
 which is associated with the top color.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../../org/apache/lucene/search/postingshighlight/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/highlight/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2016 Apache Software Foundation.  All Rights Reserved.</i>
          <script src='../../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
