<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66-ea) on Mon Jun 13 09:43:10 CEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GroupingSearch (Lucene 6.1.0 API)</title>
<meta name="date" content="2016-06-13">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GroupingSearch (Lucene 6.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroupingSearch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/search/grouping/GroupDocs.html" title="class in org.apache.lucene.search.grouping"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/lucene/search/grouping/SearchGroup.html" title="class in org.apache.lucene.search.grouping"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/grouping/GroupingSearch.html" target="_top">Frames</a></li>
<li><a href="GroupingSearch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.search.grouping</div>
<h2 title="Class GroupingSearch" class="title">Class GroupingSearch</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.grouping.GroupingSearch</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">GroupingSearch</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Convenience class to perform grouping in a non distributed environment.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#GroupingSearch-org.apache.lucene.search.Query-">GroupingSearch</a></span>(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;groupEndDocs)</code>
<div class="block">Constructor for grouping documents by doc block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#GroupingSearch-java.lang.String-">GroupingSearch</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;groupField)</code>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using DocValues.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#GroupingSearch-org.apache.lucene.queries.function.ValueSource-java.util.Map-">GroupingSearch</a></span>(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function">ValueSource</a>&nbsp;groupFunction,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;?,?&gt;&nbsp;valueSourceContext)</code>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function"><code>ValueSource</code></a>
 instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#disableCaching--">disableCaching</a></span>()</code>
<div class="block">Disables any enabled cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../core/org/apache/lucene/util/Bits.html?is-external=true" title="class or interface in org.apache.lucene.util">Bits</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#getAllGroupHeads--">getAllGroupHeads</a></span>()</code>
<div class="block">Returns the matching group heads if <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroupHeads-boolean-"><code>setAllGroupHeads(boolean)</code></a> was set to true or an empty bit set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#getAllMatchingGroups--">getAllMatchingGroups</a></span>()</code>
<div class="block">If <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroups-boolean-"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are returned, otherwise
 an empty collection is returned.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#groupByDocBlock-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">groupByDocBlock</a></span>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
               <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
               int&nbsp;groupOffset,
               int&nbsp;groupLimit)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#groupByFieldOrFunction-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">groupByFieldOrFunction</a></span>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
                      <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
                      int&nbsp;groupOffset,
                      int&nbsp;groupLimit)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#search-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">search</a></span>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
      <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
      int&nbsp;groupOffset,
      int&nbsp;groupLimit)</code>
<div class="block">Executes a grouped search.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroupHeads-boolean-">setAllGroupHeads</a></span>(boolean&nbsp;allGroupHeads)</code>
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroups-boolean-">setAllGroups</a></span>(boolean&nbsp;allGroups)</code>
<div class="block">Whether to also compute all groups matching the query.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setCaching-int-boolean-">setCaching</a></span>(int&nbsp;maxDocsToCache,
          boolean&nbsp;cacheScores)</code>
<div class="block">Enables caching for the second pass search.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setCachingInMB-double-boolean-">setCachingInMB</a></span>(double&nbsp;maxCacheRAMMB,
              boolean&nbsp;cacheScores)</code>
<div class="block">Enables caching for the second pass search.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setFillSortFields-boolean-">setFillSortFields</a></span>(boolean&nbsp;fillSortFields)</code>
<div class="block">Whether to also fill the sort fields per returned group and groups docs.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setGroupDocsLimit-int-">setGroupDocsLimit</a></span>(int&nbsp;groupDocsLimit)</code>
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setGroupDocsOffset-int-">setGroupDocsOffset</a></span>(int&nbsp;groupDocsOffset)</code>
<div class="block">Specifies the offset for documents inside a group.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setGroupSort-org.apache.lucene.search.Sort-">setGroupSort</a></span>(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search">Sort</a>&nbsp;groupSort)</code>
<div class="block">Specifies how groups are sorted.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setIncludeMaxScore-boolean-">setIncludeMaxScore</a></span>(boolean&nbsp;includeMaxScore)</code>
<div class="block">Whether to include the score of the most relevant document per group.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setIncludeScores-boolean-">setIncludeScores</a></span>(boolean&nbsp;includeScores)</code>
<div class="block">Whether to include the scores per doc inside a group.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setInitialSize-int-">setInitialSize</a></span>(int&nbsp;initialSize)</code>
<div class="block">Sets the initial size of some internal used data structures.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setSortWithinGroup-org.apache.lucene.search.Sort-">setSortWithinGroup</a></span>(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search">Sort</a>&nbsp;sortWithinGroup)</code>
<div class="block">Specified how documents inside a group are sorted.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GroupingSearch-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;groupField)</pre>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using DocValues.
 The group field can only have one token per document. This means that the field must not be analysed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupField</code> - The name of the field to group by.</dd>
</dl>
</li>
</ul>
<a name="GroupingSearch-org.apache.lucene.queries.function.ValueSource-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function">ValueSource</a>&nbsp;groupFunction,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;?,?&gt;&nbsp;valueSourceContext)</pre>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function"><code>ValueSource</code></a>
 instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupFunction</code> - The function to group by specified as <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function"><code>ValueSource</code></a></dd>
<dd><code>valueSourceContext</code> - The context of the specified groupFunction</dd>
</dl>
</li>
</ul>
<a name="GroupingSearch-org.apache.lucene.search.Query-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;groupEndDocs)</pre>
<div class="block">Constructor for grouping documents by doc block.
 This constructor can only be used when documents belonging in a group are indexed in one block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupEndDocs</code> - The query that marks the last document in all doc blocks</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="search-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;T&gt;&nbsp;search(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
                               <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
                               int&nbsp;groupOffset,
                               int&nbsp;groupLimit)
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Executes a grouped search. Both the first pass and second pass are executed on the specified searcher.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>searcher</code> - The <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search"><code>IndexSearcher</code></a> instance to execute the grouped search on.</dd>
<dd><code>query</code> - The query to execute with the grouping</dd>
<dd><code>groupOffset</code> - The group offset</dd>
<dd><code>groupLimit</code> - The number of groups to return from the specified group offset</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the grouped result as a <a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If any I/O related errors occur</dd>
</dl>
</li>
</ul>
<a name="groupByFieldOrFunction-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groupByFieldOrFunction</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&nbsp;groupByFieldOrFunction(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
                                           <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
                                           int&nbsp;groupOffset,
                                           int&nbsp;groupLimit)
                                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="groupByDocBlock-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.Query-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groupByDocBlock</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;?&gt;&nbsp;groupByDocBlock(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;searcher,
                                       <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query,
                                       int&nbsp;groupOffset,
                                       int&nbsp;groupLimit)
                                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="setCachingInMB-double-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCachingInMB</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setCachingInMB(double&nbsp;maxCacheRAMMB,
                                     boolean&nbsp;cacheScores)</pre>
<div class="block">Enables caching for the second pass search. The cache will not grow over a specified limit in MB.
 The cache is filled during the first pass searched and then replayed during the second pass searched.
 If the cache grows beyond the specified limit, then the cache is purged and not used in the second pass search.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxCacheRAMMB</code> - The maximum amount in MB the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setCaching-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCaching</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setCaching(int&nbsp;maxDocsToCache,
                                 boolean&nbsp;cacheScores)</pre>
<div class="block">Enables caching for the second pass search. The cache will not contain more than the maximum specified documents.
 The cache is filled during the first pass searched and then replayed during the second pass searched.
 If the cache grows beyond the specified limit, then the cache is purged and not used in the second pass search.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxDocsToCache</code> - The maximum number of documents the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="disableCaching--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableCaching</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;disableCaching()</pre>
<div class="block">Disables any enabled cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setGroupSort-org.apache.lucene.search.Sort-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupSort</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupSort(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search">Sort</a>&nbsp;groupSort)</pre>
<div class="block">Specifies how groups are sorted.
 Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true#RELEVANCE" title="class or interface in org.apache.lucene.search"><code>Sort.RELEVANCE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupSort</code> - The sort for the groups.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setSortWithinGroup-org.apache.lucene.search.Sort-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSortWithinGroup</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setSortWithinGroup(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search">Sort</a>&nbsp;sortWithinGroup)</pre>
<div class="block">Specified how documents inside a group are sorted.
 Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true#RELEVANCE" title="class or interface in org.apache.lucene.search"><code>Sort.RELEVANCE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sortWithinGroup</code> - The sort for documents inside a group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setGroupDocsOffset-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupDocsOffset</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupDocsOffset(int&nbsp;groupDocsOffset)</pre>
<div class="block">Specifies the offset for documents inside a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupDocsOffset</code> - The offset for documents inside a</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setGroupDocsLimit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupDocsLimit</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupDocsLimit(int&nbsp;groupDocsLimit)</pre>
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupDocsLimit</code> - The number of documents to return inside a group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setFillSortFields-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFillSortFields</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setFillSortFields(boolean&nbsp;fillSortFields)</pre>
<div class="block">Whether to also fill the sort fields per returned group and groups docs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fillSortFields</code> - Whether to also fill the sort fields per returned group and groups docs</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setIncludeScores-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIncludeScores</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setIncludeScores(boolean&nbsp;includeScores)</pre>
<div class="block">Whether to include the scores per doc inside a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>includeScores</code> - Whether to include the scores per doc inside a group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setIncludeMaxScore-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIncludeMaxScore</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setIncludeMaxScore(boolean&nbsp;includeMaxScore)</pre>
<div class="block">Whether to include the score of the most relevant document per group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>includeMaxScore</code> - Whether to include the score of the most relevant document per group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="setAllGroups-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllGroups</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setAllGroups(boolean&nbsp;allGroups)</pre>
<div class="block">Whether to also compute all groups matching the query.
 This can be used to determine the number of groups, which can be used for accurate pagination.
 <p>
 When grouping by doc block the number of groups are automatically included in the <a href="../../../../../org/apache/lucene/search/grouping/TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> and this
 option doesn't have any influence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allGroups</code> - to also compute all groups matching the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="getAllMatchingGroups--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllMatchingGroups</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;getAllMatchingGroups()</pre>
<div class="block">If <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroups-boolean-"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are returned, otherwise
 an empty collection is returned.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The group value type. This can be a <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util"><code>BytesRef</code></a> or a <a href="../../../../../../core/org/apache/lucene/util/mutable/MutableValue.html?is-external=true" title="class or interface in org.apache.lucene.util.mutable"><code>MutableValue</code></a> instance. If grouping
            by doc block this the group value is always <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all matching groups are returned, or an empty collection</dd>
</dl>
</li>
</ul>
<a name="setAllGroupHeads-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllGroupHeads</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setAllGroupHeads(boolean&nbsp;allGroupHeads)</pre>
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.
 <p>
 This feature isn't enabled when grouping by doc block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allGroupHeads</code> - Whether to compute all group heads (most relevant document per group) matching the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a name="getAllGroupHeads--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllGroupHeads</h4>
<pre>public&nbsp;<a href="../../../../../../core/org/apache/lucene/util/Bits.html?is-external=true" title="class or interface in org.apache.lucene.util">Bits</a>&nbsp;getAllGroupHeads()</pre>
<div class="block">Returns the matching group heads if <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroupHeads-boolean-"><code>setAllGroupHeads(boolean)</code></a> was set to true or an empty bit set.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The matching group heads if <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroupHeads-boolean-"><code>setAllGroupHeads(boolean)</code></a> was set to true or an empty bit set</dd>
</dl>
</li>
</ul>
<a name="setInitialSize-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setInitialSize</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setInitialSize(int&nbsp;initialSize)</pre>
<div class="block">Sets the initial size of some internal used data structures.
 This prevents growing data structures many times. This can improve the performance of the grouping at the cost of
 more initial RAM.
 <p>
 The <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroups-boolean-"><code>setAllGroups(boolean)</code></a> and <a href="../../../../../org/apache/lucene/search/grouping/GroupingSearch.html#setAllGroupHeads-boolean-"><code>setAllGroupHeads(boolean)</code></a> features use this option.
 Defaults to 128.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialSize</code> - The initial size of some internal used data structures</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroupingSearch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/search/grouping/GroupDocs.html" title="class in org.apache.lucene.search.grouping"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/lucene/search/grouping/SearchGroup.html" title="class in org.apache.lucene.search.grouping"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/grouping/GroupingSearch.html" target="_top">Frames</a></li>
<li><a href="GroupingSearch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2016 Apache Software Foundation.  All Rights Reserved.</i>
          <script src='../../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
