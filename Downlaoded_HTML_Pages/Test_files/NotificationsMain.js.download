/*! Build 4.0.11 at Thu May 07 2020 13:30:58 GMT+0000 (Coordinated Universal Time) for live */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["js/NotificationsMain"]=t():e["js/NotificationsMain"]=t()}(window,(function(){return function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"js/"+e+".NotificationsMain.js"}(e),a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://mybbc.files.bbci.co.uk/notification-ui/4.0.11/",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonpjs_NotificationsMain=window.webpackJsonpjs_NotificationsMain||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=a;return i(i.s=0)}({0:function(e,t,n){n("57364619bbc6ef867c65"),n("e1b60d05ebeced492135"),e.exports=n("2c620f2e3a281f750097")},"00388ddacef4532261aa":function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{projectId:{type:"string",required:!0},accountId:{type:"string",required:!0},groups:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},policy:{type:"string",required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0},events:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},experimentIds:{type:"array",items:{type:"string",required:!0}},id:{type:"string",required:!0}}},required:!0},audiences:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},name:{type:"string",required:!0},conditions:{type:"string",required:!0}}},required:!0},attributes:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},version:{type:"string",required:!0},revision:{type:"string",required:!0}}}},"00404b0cf57e6ab60c97":function(e,t,n){"use strict";n.r(t);var r=n("f067ac76b1240cb9aa03"),i=n("53e28e92d1187066acdd"),o=n("5e3cd3d9f80aca029dd7"),a=n("87bbeb8a4fdc6f19481b");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n("2edffdb59d944a16537a"),u=n("e96a6c9d049ea42c0dc8"),f=n("5393f737c885af4ba6bc"),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a.a.get();this.topics=t.subscriptions.filter((function(e){return e.enabled})),this.topicKeys=this.topics.map((function(e){return e.topic}))}var t,n,r;return t=e,(n=[{key:"dedupeData",value:function(e){var t=[],n=[];return e.forEach((function(e){t.indexOf(e.id)>=0||(n.push(e),t.push(e.id))})),n}},{key:"filterData",value:function(e){var t=this,n=a.a.get(),r=n.preferences.productsEnabled.filter((function(e){return e.enabled})).map((function(e){return e.product}));return this.topics=n.subscriptions.filter((function(e){return e.enabled})),this.topicKeys=this.topics.map((function(e){return e.topic})),e.filter((function(e){return r.includes(e.product)&&e.topic.some((function(n){if(t.topicKeys&&t.topicKeys.includes(n)){var r=c(t.topics,(function(e){return e.topic===n}));if(r&&new Date(e.creationTimestamp)>new Date(r.lastSubscribed))return!0}return!1}))}))}},{key:"loadData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest.json",n="https:".concat(f.env.feedBaseUrl).concat(e,"/").concat(t),r=new Date;return u(n,{},"latest.json"!==t).catch((function(e){throw e})).then((function(e){var t=[];if(!e)return{list:t,next:null,reachedEnd:!0};var n=!1;e.notifications&&e.notifications.forEach((function(e){var i=new Date(e.creationTimestamp),o=Math.abs(r.getTime()-i.getTime()),a=Math.floor(o/864e5);a>=f.env.maxNotificationAge&&(n=!0,a>f.env.maxNotificationAge)||t.push(e)}));var i=e.next&&"false"!==e.next?e.next:null;return{list:t,next:i,reachedEnd:n}}))}}])&&s(t.prototype,n),r&&s(t,r),e}();function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t,n){return(_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return p(this,t),b(this,g(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"fetch",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e?this.NEXT_DISPLAY_PAGE:"latest.json",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return _(g(t.prototype),"loadData",this).call(this,"aggregated",r).then((function(r){var o=r.list,a=r.next,s=r.reachedEnd;if(!o)return{data:[],reachedEnd:s};a||(s=!0);var c=i.concat(o),u=_(g(t.prototype),"filterData",n).call(n,c),f=_(g(t.prototype),"dedupeData",n).call(n,u);return s?((!n.NEXT_DISPLAY_PAGE||e&&!s&&a)&&(n.NEXT_DISPLAY_PAGE=a),{data:f,reachedEnd:s}):n.fetch(e,a,f)}))}}])&&h(n.prototype,r),i&&h(n,i),t}(l);function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t,n){return(O="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,T(t).call(this))).TOPIC_NEXT_DISPLAY_PAGE={},e.TOPIC_REACHED_END={},e.notifications=[],e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"loadTopicPage",value:function(e,n,r){var i=this;return O(T(t.prototype),"loadData",this).call(this,e.topic,r).then((function(r){var o=r.list,a=r.next,s=r.reachedEnd;if(!o)return{data:[],reachedEnd:s,topic:e};(!i.TOPIC_NEXT_DISPLAY_PAGE[e.topic]||n&&!s&&a)&&(i.TOPIC_NEXT_DISPLAY_PAGE[e.topic]=a);var c=O(T(t.prototype),"filterData",i).call(i,o);return!s&&c.length&&a&&"false"!==a||(i.TOPIC_REACHED_END[e.topic]=!0),{data:c,reachedEnd:s,topic:e}}))}},{key:"fetch",value:function(e){var n=this;this.perTopicNotifications={};var r=[];return e||(this.notifications=[]),this.topics.forEach((function(t){n.TOPIC_REACHED_END[t.topic]&&e||r.push(n.loadTopicPage(t,e,e?n.TOPIC_NEXT_DISPLAY_PAGE[t.topic]:"latest.json").then((function(e){return n.notifications=n.notifications.concat(e.data),e})))})),Promise.all(r).then((function(e){var r=e.every((function(e){return e.reachedEnd})),i=O(T(t.prototype),"dedupeData",n).call(n,n.notifications);return r?{data:i,reachedEnd:r}:n.fetch(!0)}))}}])&&m(n.prototype,r),i&&m(n,i),t}(l),A=n("14f5692c3316a0cb6c7d");function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=n("2edffdb59d944a16537a"),P=n("5393f737c885af4ba6bc").env.feedTopicMaxSubscriptions,U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a.a.countActiveSubscriptions();this.notifications=[],this.modelInterface=t>P?new y:new R;var n=a.a.get();if(n.preferences)this.lastRead=new Date(n.preferences.lastRead),A.a.override(n.preferences.readFilter);else{var r=new Date;r.setDate(r.getDate()-5),this.lastRead=r}}var t,n,r;return t=e,(n=[{key:"populateReadStatus",value:function(e){var t=this;return e.forEach((function(e){A.a.contains(e.id)?e.status=null:new Date(t.lastRead)<new Date(e.creationTimestamp)?e.status="new":e.status="unread"})),e}},{key:"markRead",value:function(e){return A.a.checkOrAdd(e.id),a.a.updateRead(),a.a.sendClick(e),e.status=null,a.a.updateRead()}},{key:"markAllAsSeen",value:function(){return this.notifications.forEach((function(e){"new"===e.status&&(e.status="unread")})),this.notifications}},{key:"reset",value:function(){return this.notifications=[],this.fetch()}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.modelInterface.fetch(t).then((function(n){var r=n.data,i=n.reachedEnd;r.sort((function(e,t){return new Date(e.creationTimestamp)>=new Date(t.creationTimestamp)?1:-1}));var o=e.populateReadStatus(r);return(t?o.reverse():o).forEach((function(n){w(e.notifications,(function(e){return e.id===n.id}))||e.notifications[t?"push":"unshift"](n)})),{notifications:e.modelInterface.filterData(e.notifications),reachedEnd:i}}))}}])&&S(t.prototype,n),r&&S(t,r),e}(),L=n("cc6e3beeba09f932110c"),x=n("63f466675e26206f7fb1"),C=n("5393f737c885af4ba6bc"),D=n("0cf9e3bf58c29c26a188");function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}new(n("05554638dfd99ad17c5b"));var k=n("cee82cc6e0aa2ec436fd");t.default=Object(o.withOptimizely)((function(e,t){var n,o=j(Object(D.a)(),2),s=o[0],c=o[1],u=e.orbit,f=e.basePath,l=e.drawerContent,d=e.i18n,p=e.optimizely,h=s.drawerState,b=s.notifications,_=s.stateData,g=s.reloadUserState,v=new L.b;Object(i.useEffect)((function(){c.setOrbit(u),u.refresh(),c.setI18n(d),c.setBasePath(f),c.setUserPreferencesModel(a.a),c.setNavNotificationElement(document.querySelector(".js-notification-link")),c.setOptimizely(p)}),[]),Object(i.useEffect)((function(){u.addDrawer("notifications",document.querySelector(".js-notification-link"),l,(function(e){c.setDrawerState(e)}))}),[]),Object(i.useEffect)((function(){if(_&&"hidden"===h&&k.log("Bell",{STA:"close",ONB:!!_.onboarded,SIG:!!_.signedIn}),"hidden"===h)n&&n.markAllAsSeen();else{if(!_)return;if(!1===_.signedIn||(a.a.updateRead(!0).then((function(){u.updateDrawerHeight("notifications"),u.refresh()})),k.logNewNotifications(b,h)),_.policyIssue)k.logClick("Bell",{STA:"load-u13",ONB:!1,SIG:!0});else{s.alert&&k.logClick("Bell",{STA:"ring",ONB:0!=s.subscriptions.length,SIG:!!_.signedIn});var e=s.products.every((function(e){return!e.enabled}))?"load-off":0===s.subscriptions.length?"load-onb":0==s.notifications.length?"load-empty":"load";k.logClick("Bell",{STA:e,ONB:0!=s.subscriptions.length,SIG:!!_.signedIn})}}c.removeBellAlert()}),[h]),Object(i.useEffect)((function(){m(),"undefined"!==typeof localStorage&&_&&_.signedIn&&localStorage.getItem("bbc-notifications-u13-pending-policy")&&(c.showU13Success(),localStorage.removeItem("bbc-notifications-u13-pending-policy"))}),[g]);var y,E,m=function(){v.load().then((function(e){if(e.idctaResponse?c.setIdctaLoaded(e):c.setStateData(e),!1===e.signedIn){var t=x.setMvtCookie();return p.user.id=t,void k.log("Bell",{STA:"load",ONB:!1,SIG:!1})}var r=x.get("ckns_sylphid");p.user.id=r,e.policyIssue?(c.setOnboardingU13View(),c.setBellAlert(),a.a.fetch(!1).then((function(t){return I(t,e)}))):e.policyIssue||(c.setHomeView(),a.a.fetch(!1,(function(){return c.showU13Success()})).then((function(t){n||(n=new U,T(),c.setFetchNotifications(T),c.setNotificationsModel(n),window.setInterval(T,C.env.notificationsPollingInterval),window.setInterval(O,C.env.preferencesPollingInterval),c.setProducts(a.a.get().preferences.productsEnabled,a.a.friendlyProductNames)),I(t,e)})))})).catch((function(e){c.setError()})).then((function(){}))},I=function(e,t){c.setSubscriptions(e.subscriptions),0===e.subscriptions.length&&"hidden"===s.drawerState&&e.preferences.productsEnabled.some((function(e){return e.enabled}))&&(c.setBellAlert(),k.log("Bell",{STA:"ring",ONB:0!=e.subscriptions.length&&!t.policyIssue,SIG:!0})),k.log("Bell",{STA:"load",ONB:0!=e.subscriptions.length&&!t.policyIssue,SIG:!0})},O=function(){a.a.fetch().catch((function(e){c.setError()})).then((function(e){c.setSubscriptions(e.subscriptions)})),c.setProducts(a.a.get().preferences.productsEnabled,a.a.friendlyProductNames)},T=function(e){e&&c.setLoadingMore();var t=b.length;return n.fetch(!1).catch((function(e){c.setError()})).then((function(e){if(e){var n=e.notifications,r=e.reachedEnd;c.setReachedEnd(r),c.setNotifications(n),c.removeLoadingMore();var i=!1;n.forEach((function(e){"new"===e.status&&(i=!0)})),i&&(k.logNewNotifications(n,u.getDrawerState("notifications")),n.length>t&&(c.setBellAlert(),k.log("Bell",{STA:"ring",ONB:!0,SIG:!0})))}}))};return Object(r.h)("bbc-notifications-bell",null,Object(r.h)("a",{name:"notificationLink",id:"notification-link",href:"#",className:(y="",E="",void 0===s||void 0===_||!0!==_.signedIn?E="notifications-grey-bell":_.signedIn&&(E="notifications-black-bell"),s.alert&&(y="swing"),"".concat("js-notification-link animated three notifications-shown"," ").concat(y," ").concat(E))},Object(r.h)("span",{className:"hidden-span",style:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",top:"-10px"}},"Notifications"),Object(r.h)("div",{className:"notification-link--triangle"}),Object(r.h)("div",{className:"notification-link--triangle"}),Object(r.h)("span",{id:"not-num",className:void 0!==s&&!0===s.alert?"new-notifications":""}),Object(r.h)("span",{"aria-live":"polite",className:"notification-link__live notification-link__live--js"})))}))},"005aacb138868dc5c5e0":function(e,t,n){var r=n("913c9a6b08bfb314c887"),i=n("9c29dc7850f23c4744c5"),o=n("f9a21f1b550208419753"),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},"00945206146f7a17044b":function(e,t,n){var r=n("5a7ccd6273ec77fdeabc"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},"0110081a582797d9710b":function(e,t,n){"use strict";var r=n("58364c04a33db8476261"),i=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("fbc36b60f8b4242470ae").default,s=new function e(){var t=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"setLanguage",(function(e){t.language=e,t.translations=a(i.a,"$.".concat(t.language))[0]})),o(this,"getLanguage",(function(){return t.language})),o(this,"setFallBackLanguage",(function(e){t.fallBackLanguage=e,t.fallBackTranslations=a(i.a,t.fallBackLanguage)})),o(this,"t",(function(e){if(!e)return"";var n=a(t.translations?t.translations:t.fallBackTranslations,"$.".concat(e));if(!n)return e;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.length>0?t.format(n,i):n})),o(this,"format",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i in n)e=e.toString().replace(new RegExp("\\{"+i+"\\}","g"),n[i]);return e})),e.instance||(this.fallBackLanguage="en-GB",this.fallBackTranslations=a(i.a,"$.".concat(this.fallBackLanguage))[0],this.language=void 0,this.translations,e.instance=this),e.instance};t.a=s},"01d665d42ac0fb526292":function(e,t,n){var r=n("f8446e843ad1613417d0"),i=n("e99524bb668f88c6c42e"),o=n("f2ef6f6e544aad97aa22"),a=n("f72c7c366a646d5e453e"),s=n("84696c4e387dcb8648dc"),c=n("22fd2f70e6f18dac8668");e.exports=function(e,t,n){for(var u=-1,f=(t=r(t,e)).length,l=!1;++u<f;){var d=c(t[u]);if(!(l=null!=e&&n(e,d)))break;e=e[d]}return l||++u!=f?l:!!(f=null==e?0:e.length)&&s(f)&&a(d,f)&&(o(e)||i(e))}},"04fddb994f93fcfa2bf7":function(e,t,n){var r=n("3e9c7e5351d86134f5f6"),i=n("6d7c0b4b89dbdcc8bc05"),o=Math.pow(2,53);e.exports={assign:n("5ad5fa305fb9d8886d1b"),assignIn:n("005aacb138868dc5c5e0"),cloneDeep:n("216ee9ae289723f588c5"),currentTimestamp:function(){return Math.round((new Date).getTime())},isArray:n("f2ef6f6e544aad97aa22"),isEmpty:n("a1cf5d6fa4ed65a6ddd5"),isFinite:function(e){return i(e)&&Math.abs(e)<=o},keyBy:n("dd40a7486aa1dad6adf1"),filter:n("98f11010eed1f30a67e8"),forEach:n("3cfaddbc49b3b4520d9c"),forOwn:n("436f607eb5bb7e91dec1"),map:n("3dde4251a4e36fb3d2d7"),uuid:function(){return r.v4()},values:n("100182af864976edb75f"),isNumber:n("3f935c253d9c7ef47e52")}},"05554638dfd99ad17c5b":function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){};r.prototype={handledParse:function(e,t,n){try{return JSON.parse(e)}catch(e){return"function"===typeof n&&n(),t||null}},extend:function(){var e,t,n,r,i=Array.prototype.slice.call(arguments),o=this;if(0===i.length)return{};function a(t,i){e[n][i]=o.isObject(t)?o.extend(e[n][i],t,r):t}t=i[i.length-1],r=!0===t,"boolean"===typeof t&&i.pop();for(var s=0;s<i.length;s++)if(0!==o.keys(i[s]).length)for(var c in i[s])r&&!i[s].hasOwnProperty(c)||(e=e||{},o.isArray(i[s][c])&&r?"undefined"!==typeof e[c]&&o.isArray(e[c])?(n=c,o.forEach(i[s][c],a)):e[c]=i[s][c].slice():o.isObject(i[s][c])&&r?e[c]=o.isObject(e[c])?o.extend(e[c],i[s][c],r):o.extend(i[s][c],r):null!==i[s][c]&&void 0!==i[s][c]&&(e[c]=i[s][c]));return e},forEach:function(e,t,n){n=n||null;for(var r=0,i=e.length;r<i;r++)r in e&&t.call(n,e[r],r,e)},truncate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=e.substring(0,t+1);return e.length>t?-1==n.indexOf(" ")?n.substring(0,n.length-1).trim()+"...":n.substr(0,Math.min(n.length,n.lastIndexOf(" "))).trim()+"...":e},each:function(e,t,n){if(n=n||null,this.isObject(e))for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)},bind:function(e,t){if("function"===typeof e)return e.bind?e.bind(t):function(){e.apply(t,arguments)}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},isObject:function(e){return"object"===n(e)&&null!==e}},e.exports=r},"089f6438d068e21c2e37":function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},"09efa73129bfb7951ff1":function(e,t,n){var r=n("43b923cfacc75860e178"),i=n("596dbf5a57be1d3c969c"),o=n("a7748d7c475f1fd90265");e.exports=function(e,t){return o(i(e,t,r),e+"")}},"0b205baa0fbd29b7f67c":function(e,t){var n="undefined"!==typeof ArrayBuffer;function r(e,t){var r;"number"!==typeof e&&(e=32*(r=e).length);var i=Math.ceil(e/32),o=-1;if(this.m=e=32*i,this.k=t,n){var a=1<<Math.ceil(Math.log(Math.ceil(Math.log(e)/Math.LN2/8))/Math.LN2),s=1===a?Uint8Array:2===a?Uint16Array:Uint32Array,c=new ArrayBuffer(a*t),u=this.buckets=new Int32Array(i);if(r)for(;++o<i;)u[o]=r[o];this._locations=new s(c)}else{u=this.buckets=[];if(r)for(;++o<i;)u[o]=r[o];else for(;++o<i;)u[o]=0;this._locations=[]}}function i(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24}r.prototype.locations=function(e){for(var t=this.k,n=this.m,r=this._locations,i=function(e){var t,n,r=e.length,i=2166136261,o=-1;for(;++o<r;)t=e.charCodeAt(o),(n=4278190080&t)&&(i^=n>>24,i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24)),(n=16711680&t)&&(i^=n>>16,i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24)),(n=65280&t)&&(i^=n>>8,i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24)),i^=255&t,i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i+=i<<13,i^=i>>7,i+=i<<3,i^=i>>17,4294967295&(i+=i<<5)}(e),o=function(e){return e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e+=e<<13,e^=e>>7,e+=e<<3,e^=e>>17,4294967295&(e+=e<<5)}(i),a=-1,s=i%n;++a<t;)r[a]=s<0?s+n:s,s=(s+o)%n;return r},r.prototype.add=function(e){for(var t=this.locations(e+""),n=-1,r=this.k,i=this.buckets;++n<r;)i[Math.floor(t[n]/32)]|=1<<t[n]%32},r.prototype.test=function(e){for(var t,n=this.locations(e+""),r=-1,i=this.k,o=this.buckets;++r<i;)if(t=n[r],0===(o[Math.floor(t/32)]&1<<t%32))return!1;return!0},r.prototype.size=function(){for(var e=this.buckets,t=0,n=0,r=e.length;n<r;++n)t+=i(e[n]);return-this.m*Math.log(1-t/this.m)/this.k},e.exports=r},"0b3ef4ee6405215b82fc":function(e,t,n){var r=n("bfae026dad300e196930"),i=n("d3f34489f4f638c7c5ff"),o=n("c6521649b14ae77b88ed"),a=n("0de17b4c9d6720b1a057"),s=n("16a2663068191a21c134"),c=n("f2ef6f6e544aad97aa22"),u=n("72301e3cc725dd502232"),f=n("1ef5eae0d45731e89b6f"),l="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,b){var _=c(e),g=c(t),v=_?"[object Array]":s(e),y=g?"[object Array]":s(t),E=(v="[object Arguments]"==v?l:v)==l,m=(y="[object Arguments]"==y?l:y)==l,I=v==y;if(I&&u(e)){if(!u(t))return!1;_=!0,E=!1}if(I&&!E)return b||(b=new r),_||f(e)?i(e,t,n,p,h,b):o(e,t,v,n,p,h,b);if(!(1&n)){var O=E&&d.call(e,"__wrapped__"),T=m&&d.call(t,"__wrapped__");if(O||T){var N=O?e.value():e,R=T?t.value():t;return b||(b=new r),h(N,R,n,p,b)}}return!!I&&(b||(b=new r),a(e,t,n,p,h,b))}},"0cf9e3bf58c29c26a188":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"setErrorView",(function(){return h})),n.d(r,"setOnboardingU13View",(function(){return b})),n.d(r,"setHomeView",(function(){return _})),n.d(r,"setSettingsView",(function(){return g})),n.d(r,"setSignInView",(function(){return v})),n.d(r,"setBellAlert",(function(){return y})),n.d(r,"setShadowAdded",(function(){return E})),n.d(r,"removeShadowAdded",(function(){return m})),n.d(r,"setLoadingMore",(function(){return I})),n.d(r,"removeLoadingMore",(function(){return O})),n.d(r,"setShowKeyboardAccess",(function(){return T})),n.d(r,"removeShowKeyboardAccess",(function(){return N})),n.d(r,"setReachedEnd",(function(){return R})),n.d(r,"removeReachedEnd",(function(){return A})),n.d(r,"setFetchNotifications",(function(){return S})),n.d(r,"setNotificationsModel",(function(){return w})),n.d(r,"removeBellAlert",(function(){return P})),n.d(r,"setStateData",(function(){return U})),n.d(r,"setIdctaLoaded",(function(){return L})),n.d(r,"setProducts",(function(){return x})),n.d(r,"setNotifications",(function(){return C})),n.d(r,"setSubscriptions",(function(){return D})),n.d(r,"setOrbit",(function(){return j})),n.d(r,"setI18n",(function(){return k})),n.d(r,"showU13Success",(function(){return V})),n.d(r,"reloadUserState",(function(){return F})),n.d(r,"setDrawerState",(function(){return M})),n.d(r,"hideU13Success",(function(){return B})),n.d(r,"setNavNotificationElement",(function(){return G})),n.d(r,"setError",(function(){return K})),n.d(r,"removeError",(function(){return z})),n.d(r,"setUserPreferencesModel",(function(){return H})),n.d(r,"setBasePath",(function(){return Y})),n.d(r,"setOptimizely",(function(){return W})),n.d(r,"setScrollProgress",(function(){return q}));var i=n("53e28e92d1187066acdd");function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=this;this.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{},e),this.listeners.forEach((function(e){e(t.state)}))}function u(e){var t=this,n=e.useState()[1];return e.useEffect((function(){return t.listeners.push(n),function(){t.listeners=t.listeners.filter((function(e){return e!==n}))}}),[]),[this.state,this.actions]}var f=function(e,t,n){var r={state:t,listeners:[]};return r.setState=c.bind(r),r.actions=function e(t,n){var r={};return Object.keys(n).forEach((function(i){"function"===typeof n[i]&&(r[i]=n[i].bind(null,t)),"object"===o(n[i])&&(r[i]=e(t,n[i]))})),r}(r,n),u.bind(r,e)};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){e.setState(d({},e.state,{view:"error",scrollProgress:void 0}))},b=function(e){e.setState(d({},e.state,{view:"onboardingU13"}))},_=function(e){e.setState(d({},e.state,{view:"home",scrollProgress:void 0}))},g=function(e){e.setState(d({},e.state,{view:"settings",scrollProgress:void 0}))},v=function(e){e.setState(d({},e.state,{view:"signin",scrollProgress:void 0}))},y=function(e){e.setState(d({},e.state,{alert:!0}))},E=function(e){e.setState(d({},e.state,{shadowAdded:!0}))},m=function(e){e.setState(d({},e.state,{shadowAdded:!1}))},I=function(e){e.setState(d({},e.state,{loadingMore:!0}))},O=function(e){e.setState(d({},e.state,{loadingMore:!1}))},T=function(e){e.setState(d({},e.state,{showKeyboardAccess:!0}))},N=function(e){e.setState(d({},e.state,{showKeyboardAccess:!1}))},R=function(e,t){e.setState(d({},e.state,{reachedEnd:t}))},A=function(e){e.setState(d({},e.state,{reachedEnd:!1}))},S=function(e,t){e.setState(d({},e.state,{fetchNotifications:t}))},w=function(e,t){e.setState(d({},e.state,{notificationsModel:t}))},P=function(e){e.setState(d({},e.state,{alert:!1}))},U=function(e,t){e.setState(d({},e.state,{stateData:t}))},L=function(e,t){e.setState(d({},e.state,{stateData:t,idctaResponse:t.idctaResponse,html:t.idctaResponse.html,htmlJs:t.idctaResponse.htmlJs,view:"signin"}))},x=function(e,t,n){e.setState(d({},e.state,{products:t,friendlyProductNames:n}))},C=function(e,t){e.setState(d({},e.state,{notifications:t}))},D=function(e,t){e.setState(d({},e.state,{subscriptions:t}))},j=function(e,t){e.setState(d({},e.state,{orbit:t}))},k=function(e,t){e.setState(d({},e.state,{t:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.t(e,r)},i18n:t}))},V=function(e){e.setState(d({},e.state,{showU13Success:!0}))},F=function(e){e.setState(d({},e.state,{reloadUserState:!e.state.reloadUserState}))},M=function(e,t){e.setState(d({},e.state,{drawerState:t}))},B=function(e){e.setState(d({},e.state,{showU13Success:!1}))},G=function(e,t){e.setState(d({},e.state,{navNotificationElement:t}))},K=function(e){e.setState(d({},e.state,{error:!0}))},z=function(e){e.setState(d({},e.state,{error:!1}))},H=function(e,t){e.setState(d({},e.state,{userPreferencesModel:t}))},Y=function(e,t){e.setState(d({},e.state,{basePath:t}))},W=function(e,t){e.setState(d({},e.state,{optimizely:t}))},q=function(e,t){e.setState(d({},e.state,{scrollProgress:t}))},J={view:"home",idctaResponse:void 0,stateData:void 0,notifications:[],products:[],friendlyProductNames:[],subscriptions:[],inputValue:0,alert:!1,shadowAdded:!1,loadingMore:!1,reachedEnd:!1,showKeyboardAccess:!1,showU13Success:!1,orbit:null,i18n:null,optimizely:{},t:null,navNotificationElement:{},error:"",userPreferencesModel:{},basePath:"",drawerState:"hidden",reloadUserState:!1,fetchNotifications:function(){},notificationsModel:void 0,scrollProgress:void 0},X=f(n.n(i).a,J,r);t.a=X},"0dcc720b1ae88124110d":function(e,t,n){var r=n("9123cfeafc0d6a263ce1"),i=n("ff287e4203ba67f8dff7"),o=n("4252c33ffda2a5716eca"),a=n("b0c7635870fec56a9af9"),s=n("ef86c82e2fb9c58af3c0"),c=n("3c1144d1d0b42ea1466f"),u=n("22fd2f70e6f18dac8668");e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},"0de17b4c9d6720b1a057":function(e,t,n){var r=n("b00719d067f820b8deb0"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=r(e),f=u.length;if(f!=r(t).length&&!c)return!1;for(var l=f;l--;){var d=u[l];if(!(c?d in t:i.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var h=!0;s.set(e,t),s.set(t,e);for(var b=c;++l<f;){var _=e[d=u[l]],g=t[d];if(o)var v=c?o(g,_,d,t,e,s):o(_,g,d,e,t,s);if(!(void 0===v?_===g||a(_,g,n,o,s):v)){h=!1;break}b||(b="constructor"==d)}if(h&&!b){var y=e.constructor,E=t.constructor;y!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof E&&E instanceof E)&&(h=!1)}return s.delete(e),s.delete(t),h}},"0efece4c8cb91e128a85":function(e,t,n){"use strict";e.exports=n("82c3e6e6e3fe41af700d")},"0fc56de7c1b97231ebe1":function(e,t,n){var r=n("98a0abf0511eb1111afa"),i=n("941955270fde8df3ace1"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},"100182af864976edb75f":function(e,t,n){var r=n("3e75510314c5cc5988ba"),i=n("3478ed78d76c28060dce");e.exports=function(e){return null==e?[]:r(e,i(e))}},"104a011c3c0c4bae71c3":function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},"11fb57316995a34b733f":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},"14f5692c3316a0cb6c7d":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n("0b205baa0fbd29b7f67c"),o=new(n("05554638dfd99ad17c5b")),a=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filterName=t,this.filter=new i(8192,16)}var t,n,a;return t=e,(n=[{key:"override",value:function(e){"string"===typeof e&&""!==e&&(e=o.handledParse(e,[])),o.isArray(e)&&0===e.length&&(e=8192),this.filter=new i(e,16)}},{key:"add",value:function(e){e&&""!==e&&this.filter.add(e)}},{key:"getCleanArray",value:function(){return[].slice.call(this.filter.buckets)}},{key:"contains",value:function(e){return!(!e||""===e)&&this.filter.test(e)}},{key:"checkOrAdd",value:function(e){e&&""!==e&&(this.contains(e)||this.add(e))}}])&&r(t.prototype,n),a&&r(t,a),e}())("readFilter");t.a=a},"1691913eb1392c1a83b9":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},"1693f284ebfa2b5bf0bc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("e86a1dffa60831d5ce49"),i=n("883c01ec557fc8a5e1b1").getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues,r=void 0===n?1e3:n;this.LS_KEY=t,this.maxValues=r}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map((function(t){return{key:t,value:e[t]}}));r.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}();t.LocalStorageStore=o},"16a2663068191a21c134":function(e,t,n){var r=n("c563599eb9734b6ef1c0"),i=n("f0200b4beabe56dc845a"),o=n("848061d2617404d8a848"),a=n("ad8470b596eb2ec5826f"),s=n("43dd891ba6876544e540"),c=n("67042e57ad02a5947bc9"),u=n("cef4e105446199aaf71e"),f=u(r),l=u(i),d=u(o),p=u(a),h=u(s),b=c;(r&&"[object DataView]"!=b(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=b(new i)||o&&"[object Promise]"!=b(o.resolve())||a&&"[object Set]"!=b(new a)||s&&"[object WeakMap]"!=b(new s))&&(b=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=b},"18258512433285401c87":function(e,t,n){var r=n("c65eccca28bef6f13a41");e.exports=function(e){return null==e?"":r(e)}},"18caba858d9ea0f67284":function(e,t,n){var r=n("5de5c65c2c431f821291"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},"191adceeffad46f4bba8":function(e,t,n){var r=n("18caba858d9ea0f67284")["__core-js_shared__"];e.exports=r},"1bd3db6dd06f60a85824":function(e,t,n){var r=n("44b7d0c5261c9879c084"),i=n("430d8aae6ebaf5595c07"),o=n("8c88185a76bfd7dbafea"),a=n("873cbcc7b222a5387fbc"),s=n("a0063d3cf13048bed80e");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},"1c8b809b587260257b6f":function(e,t,n){var r=n("ebb7be79b6c15709c3d5");e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},"1ef2dcf0aff52d363efe":function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"1ef5eae0d45731e89b6f":function(e,t,n){var r=n("28e5655f45e616ffe40b"),i=n("22387c0eaba857444dfb"),o=n("eedc997fc37971b68c9e"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},"216ee9ae289723f588c5":function(e,t,n){var r=n("f14de80411f54272a77c");e.exports=function(e){return r(e,5)}},"22387c0eaba857444dfb":function(e,t){e.exports=function(e){return function(t){return e(t)}}},"22fd2f70e6f18dac8668":function(e,t,n){var r=n("f885c485344554659d42");e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"2383e3608ee0fc85fb76":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ab5d2baa0493dc68d446");t.HttpPollingDatafileManager=r.default;var i=n("dbdd6f27fc30af33bb47");t.StaticDatafileManager=i.default},"245ed3688bc2a5950bf8":function(e,t,n){var r=n("3bdd39952085dbdd5939"),i=n("0dcc720b1ae88124110d"),o=n("43b923cfacc75860e178"),a=n("f2ef6f6e544aad97aa22"),s=n("cf9efc3a52077e29998b");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},"24e589075d74d0fd4cf5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach((function(e){(0,n[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=r},"267a5cf0ab3c1047295f":function(e,t,n){var r=n("c9327538105d995811b8");e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},"26d59f808dff3e83c741":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!f){var e=s(d);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||f||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"270e21ca011dc70e1b76":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("430760ce71a6876f481f");var i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},"28e5655f45e616ffe40b":function(e,t,n){var r=n("67042e57ad02a5947bc9"),i=n("84696c4e387dcb8648dc"),o=n("4b93c5a7bb60dd6ab0f4"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},"2aa98307c403e6f46ef6":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"2c620f2e3a281f750097":function(e,t,n){"use strict";n.r(t),n.d(t,"run",(function(){return f}));var r,i,o=n("f067ac76b1240cb9aa03"),a=n("5e3cd3d9f80aca029dd7"),s=n("0110081a582797d9710b"),c=n("5393f737c885af4ba6bc"),u=n.n(c);function f(e,t){Object(a.setLogger)(null),window.require(["orb/nav","idcta/id-config"],(function(c,f){!function(e,t){"function"===typeof e.getInstance?e.getInstance():e;t}(e,f);var l=document.getElementById("mybbc-wrapper");!function(e,t){if(e){t.removeChild(e);var n=document.createElement("bbc-notifications");n.id="bbc-notifications",t.appendChild(n)}}(document.getElementById("notification-link"),l);var d=n("63f466675e26206f7fb1"),p=d.get("ckps_kl_lang");void 0===p&&(p=d.get("ckps_language")),void 0===p&&(p="en"),p.endsWith("-GB")||(p="".concat(p,"-GB")),(p.startsWith("en")||p.startsWith("cy")||p.startsWith("ga")||p.startsWith("gd"))&&s.a.setLanguage(p),s.a.setFallBackLanguage("en-GB"),(r=document.createElement("div")).className="orb-panel",r.id="orb-panel";var h=n("00404b0cf57e6ab60c97").default,b=Object(a.createInstance)({sdkKey:u.a.env.optimizely_sdk_key,datafileOptions:{updateInterval:u.a.env.optimizely_poll_interval,autoUpdate:!0,urlTemplate:"https://cdn.optimizely.com/datafiles/%s.json"}}),_=d.setMvtCookie();Object(o.render)(Object(o.h)(a.OptimizelyProvider,{optimizely:b,user:{id:_}},Object(o.h)(h,{orbit:c,basePath:t,drawerContent:r,i18n:s.a})),document.getElementById("bbc-notifications")),c.refresh(),i=n("b96e824c2cbcd9fb72c7").default,Object(o.render)(Object(o.h)(a.OptimizelyProvider,{optimizely:b,user:{id:_}},Object(o.h)(i,{orbit:c,i18n:s.a,basePath:t})),r)}))}},"2da8456225be17b38fb7":function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"2edffdb59d944a16537a":function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"===typeof Array.prototype.find)return e.find(t,n);n=n||this;var r,i=e.length;if("function"!==typeof t)throw new TypeError(t+" is not a function");for(r=0;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}},"2f73661a3b84f5a43e35":function(e,t,n){var r=n("5a7ccd6273ec77fdeabc"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},"30e27ea3d8e02da48c67":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("883c01ec557fc8a5e1b1"),a=n("8a06dda852929deeb4f5"),s=i(n("24e589075d74d0fd4cf5")),c=n("430760ce71a6876f481f"),u=i(n("270e21ca011dc70e1b76")),f=o.getLogger("DatafileManager");function l(e){return e>=200&&e<400}var d=function(){function e(e){var t=this,n=r({},this.getConfigDefaults(),e),i=n.datafile,o=n.autoUpdate,l=void 0!==o&&o,d=n.sdkKey,p=n.updateInterval,h=void 0===p?c.DEFAULT_UPDATE_INTERVAL:p,b=n.urlTemplate,_=void 0===b?c.DEFAULT_URL_TEMPLATE:b;this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n})),i?(this.currentDatafile=i,this.resolveReadyPromise()):this.currentDatafile=null,this.isStarted=!1,this.datafileUrl=a.sprintf(_,d),this.emitter=new s.default,this.autoUpdate=l,!function(e){return e>=c.MIN_UPDATE_INTERVAL}(h)?(f.warn("Invalid updateInterval %s, defaulting to %s",h,c.DEFAULT_UPDATE_INTERVAL),this.updateInterval=c.DEFAULT_UPDATE_INTERVAL):this.updateInterval=h,this.currentTimeout=null,this.currentRequest=null,this.backoffController=new u.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(f.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.syncDatafile())},e.prototype.stop=function(){return f.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?f.error("Error fetching datafile: %s",e.message,e):"string"===typeof e?f.error("Error fetching datafile: %s",e):f.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){"undefined"!==typeof e.statusCode&&l(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(null!==t)if(f.info("Updating datafile from response"),this.currentDatafile=t,this.isReadyPromiseSettled){var n={datafile:t};this.emitter.emit("update",n)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),f.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),n=Math.max(t,this.updateInterval);f.debug("Scheduling sync in %s ms",n),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),n)},e.prototype.getNextDatafileFromResponse=function(e){return f.debug("Response status code: %s",e.statusCode),"undefined"===typeof e.statusCode?null:304===e.statusCode?null:l(e.statusCode)?this.tryParsingBodyAsJSON(e.body):null},e.prototype.tryParsingBodyAsJSON=function(e){var t;try{t=JSON.parse(e)}catch(e){return f.error("Error parsing response body: %s",e.message,e),null}var n=null;return"object"===typeof t&&null!==t?n=t:f.error("Error parsing response body: was not an object"),n},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];"undefined"!==typeof t&&(this.lastResponseLastModified=t,f.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e}();t.default=d},"31756934c80df8e12080":function(e,t,n){var r=n("ebb7be79b6c15709c3d5"),i=n("c9327538105d995811b8");e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},"3184612d9da4f8324390":function(e,t,n){var r=n("883c01ec557fc8a5e1b1");function i(){}i.prototype.log=function(){},e.exports={createLogger:function(e){return new r.ConsoleLogHandler(e)},createNoOpLogger:function(){return new i}}},"31bb4f2f1a4f1df15bdf":function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"330dfc1a2ab8bc2e1ccf":function(e,t,n){var r=n("f80049d42c5cb20e7a0a"),i=n("22387c0eaba857444dfb"),o=n("eedc997fc37971b68c9e"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},"33e73011281ee8023d77":function(e,t,n){var r=n("67042e57ad02a5947bc9"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},"3478ed78d76c28060dce":function(e,t,n){var r=n("98e5f258a85d7fd22ef8"),i=n("ab33744f6df37edcb9b2"),o=n("c9327538105d995811b8");e.exports=function(e){return o(e)?r(e):i(e)}},"3494807191f1420db31a":function(e,t,n){var r=n("04fddb994f93fcfa2bf7"),i=n("971268c5be9618ca3262").sprintf,o=n("883c01ec557fc8a5e1b1"),a=n("782ea1fc620fe246f97b"),s=n("2383e3608ee0fc85fb76"),c=n("df7b55382888b4ee215c"),u=n("ed435abeaba8ecaa0649"),f=o.getLogger(),l=c.ERROR_MESSAGES;function d(e,t){return e instanceof Error?e.message:t||"Unknown error"}function p(e){try{this.__initialize(e)}catch(e){f.error(e),this.__updateListeners=[],this.__configObj=null,this.__readyPromise=Promise.resolve({success:!1,reason:d(e,"Error in initialize")})}}p.prototype.__initialize=function(e){if(this.__updateListeners=[],this.jsonSchemaValidator=e.jsonSchemaValidator,this.skipJSONValidation=e.skipJSONValidation,!e.datafile&&!e.sdkKey){this.__configObj=null;var t=new Error(i(l.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.__readyPromise=Promise.resolve({success:!1,reason:d(t)}),void f.error(t)}var n,o=this.__getDatafileFromConfig(e);if(o)try{this.__configObj=u.tryCreatingProjectConfig({datafile:o,jsonSchemaValidator:this.jsonSchemaValidator,logger:f,skipJSONValidation:this.skipJSONValidation})}catch(e){f.error(e),n=e,this.__configObj=null}else this.__configObj=null;if(e.sdkKey){var a={sdkKey:e.sdkKey};this.__validateDatafileOptions(e.datafileOptions)&&r.assign(a,e.datafileOptions),o&&this.__configObj&&(a.datafile=o),this.datafileManager=new s.HttpPollingDatafileManager(a),this.datafileManager.start(),this.__readyPromise=this.datafileManager.onReady().then(this.__onDatafileManagerReadyFulfill.bind(this),this.__onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.__onDatafileManagerUpdate.bind(this))}else this.__configObj?this.__readyPromise=Promise.resolve({success:!0}):this.__readyPromise=Promise.resolve({success:!1,reason:d(n,"Invalid datafile")})},p.prototype.__onDatafileManagerReadyFulfill=function(){var e,t=this.datafileManager.get();try{e=u.tryCreatingProjectConfig({datafile:t,jsonSchemaValidator:this.jsonSchemaValidator,logger:f,skipJSONValidation:this.skipJSONValidation})}catch(e){return f.error(e),{success:!1,reason:d(e)}}return this.__handleNewConfigObj(e),{success:!0}},p.prototype.__onDatafileManagerReadyReject=function(e){return{success:!1,reason:d(e,"Failed to become ready")}},p.prototype.__onDatafileManagerUpdate=function(){var e,t=this.datafileManager.get();try{e=u.tryCreatingProjectConfig({datafile:t,jsonSchemaValidator:this.jsonSchemaValidator,logger:f,skipJSONValidation:this.skipJSONValidation})}catch(e){f.error(e)}e&&this.__handleNewConfigObj(e)},p.prototype.__getDatafileFromConfig=function(e){var t=null;try{e.datafile&&(a.validateDatafile(e.datafile),t="string"===typeof e.datafile||e.datafile instanceof String?JSON.parse(e.datafile):e.datafile)}catch(e){f.error(e)}return t},p.prototype.__validateDatafileOptions=function(e){return"undefined"===typeof e||"object"===typeof e&&null!==e},p.prototype.__handleNewConfigObj=function(e){var t=this.__configObj;(t?t.revision:"null")!==e.revision&&(this.__configObj=e,this.__updateListeners.forEach((function(t){t(e)})))},p.prototype.getConfig=function(){return this.__configObj},p.prototype.onReady=function(){return this.__readyPromise},p.prototype.onUpdate=function(e){return this.__updateListeners.push(e),function(){var t=this.__updateListeners.indexOf(e);t>-1&&this.__updateListeners.splice(t,1)}.bind(this)},p.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.__updateListeners=[]},e.exports={ProjectConfigManager:p}},"36648780162654e4ac23":function(e,t,n){var r=n("c161013742249fbd15d0");e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},"36f73ad867388d6d2c45":function(e,t,n){var r=n("04fddb994f93fcfa2bf7"),i=n("fc559c1db6037f379144"),o=n("8471fa3e948e6f8d4661"),a=n("df7b55382888b4ee215c"),s=n("937a9da8fad2c0a50a05"),c=n("3d7ccc0ee3004e3194a3"),u=n("8637e970b1e5cbf2ab1c"),f=n("c7c63798d80f6c943171"),l=n("7798bfb91dfe96872a60"),d=n("ed435abeaba8ecaa0649"),p=n("971268c5be9618ca3262").sprintf,h=n("8b38e41091cf0d06e57b"),b=n("e3aa348ea6f439469583"),_=n("3494807191f1420db31a"),g=a.ERROR_MESSAGES,v=a.LOG_LEVEL,y=a.LOG_MESSAGES,E=a.DECISION_SOURCES,m=a.FEATURE_VARIABLE_TYPES,I=a.DECISION_NOTIFICATION_TYPES,O=a.NOTIFICATION_TYPES;function T(e){var t=e.clientEngine;-1===a.VALID_CLIENT_ENGINES.indexOf(t)&&(e.logger.log(v.INFO,p(y.INVALID_CLIENT_ENGINE,"OPTIMIZELY",t)),t=a.NODE_CLIENT_ENGINE),this.clientEngine=t,this.clientVersion=e.clientVersion||a.NODE_CLIENT_VERSION,this.errorHandler=e.errorHandler,this.eventDispatcher=e.eventDispatcher,this.__isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger,this.projectConfigManager=new _.ProjectConfigManager({datafile:e.datafile,datafileOptions:e.datafileOptions,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,skipJSONValidation:e.skipJSONValidation}),this.__disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){this.logger.log(v.INFO,p(y.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId)),this.notificationCenter.sendNotifications(O.OPTIMIZELY_CONFIG_UPDATE)}.bind(this)),this.__readyPromise=this.projectConfigManager.onReady();var n=null;if(e.userProfileService)try{h.validate(e.userProfileService)&&(n=e.userProfileService,this.logger.log(v.INFO,p(y.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY")))}catch(e){this.logger.log(v.WARNING,e.message)}this.decisionService=o.createDecisionService({userProfileService:n,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators}),this.notificationCenter=l.createNotificationCenter({logger:this.logger,errorHandler:this.errorHandler}),this.eventProcessor=new u.LogTierV1EventProcessor({dispatcher:this.eventDispatcher,flushInterval:e.eventFlushInterval,maxQueueSize:e.eventBatchSize,notificationCenter:this.notificationCenter}),this.eventProcessor.start(),this.__readyTimeouts={},this.__nextReadyTimeoutId=0}T.prototype.__isValidInstance=function(){return this.__isOptimizelyConfigValid&&this.projectConfigManager.getConfig()},T.prototype.activate=function(e,t,n){try{if(!this.__isValidInstance())return this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY","activate")),null;if(!this.__validateInputs({experiment_key:e,user_id:t},n))return this.__notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.__notActivatingExperiment(e,t);if(!d.isRunning(r,e)){var o=p(y.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e);return this.logger.log(v.DEBUG,o),i}return this._sendImpressionEvent(e,i,t,n),i}catch(n){this.logger.log(v.ERROR,n.message);var a=p(y.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(v.INFO,a),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype._sendImpressionEvent=function(e,t,n,r){var i=this.projectConfigManager.getConfig();if(i){var o=c.buildImpressionEvent({experimentKey:e,variationKey:t,userId:n,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.eventProcessor.process(o),this.__emitNotificationCenterActivate(e,t,n,r)}},T.prototype.__emitNotificationCenterActivate=function(e,t,n,r){var i=this.projectConfigManager.getConfig();if(i){var o,a=d.getVariationIdFromExperimentAndVariationKey(i,e,t),c=d.getExperimentId(i,e),u={attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,experimentId:c,userId:n,variationId:a,logger:this.logger},f=s.getImpressionEvent(u),l=i.experimentKeyMap[e];l&&l.variationKeyMap&&(o=l.variationKeyMap[t]),this.notificationCenter.sendNotifications(O.ACTIVATE,{experiment:l,userId:n,attributes:r,variation:o,logEvent:f})}},T.prototype.track=function(e,t,n,r){try{if(!this.__isValidInstance())return void this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY","track"));if(!this.__validateInputs({user_id:t,event_key:e},n,r))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!d.eventWithKeyExists(i,e))throw new Error(p(g.INVALID_EVENT_KEY,"OPTIMIZELY",e));r=this.__filterEmptyValues(r);var o=c.buildConversionEvent({eventKey:e,eventTags:r,userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(v.INFO,p(a.LOG_MESSAGES.TRACK_EVENT,"OPTIMIZELY",e,t)),this.eventProcessor.process(o),this.__emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e);var s=p(y.NOT_TRACKING_USER,"OPTIMIZELY",t);this.logger.log(v.INFO,s)}},T.prototype.__emitNotificationCenterTrack=function(e,t,n,r){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o={attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:r,logger:this.logger,userId:t},a=s.getConversionEvent(o);this.notificationCenter.sendNotifications(O.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:a})}catch(e){this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e)}},T.prototype.getVariation=function(e,t,n){try{if(!this.__isValidInstance())return this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY","getVariation")),null;try{if(!this.__validateInputs({experiment_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.experimentKeyMap[e];if(r.isEmpty(o))return this.logger.log(v.DEBUG,p(g.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e)),null;var a=this.decisionService.getVariation(i,e,t,n),s=d.isFeatureExperiment(i,o.id)?I.FEATURE_TEST:I.AB_TEST;return this.notificationCenter.sendNotifications(O.DECISION,{type:s,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.setForcedVariation=function(e,t,n){if(!this.__validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),!1}},T.prototype.getForcedVariation=function(e,t){if(!this.__validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.__validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!==typeof r||null===r||"undefined"===r)throw new Error(p(g.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}for(var o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];if(!b.validate(e[s]))throw new Error(p(g.INVALID_INPUT_FORMAT,"OPTIMIZELY",s))}return t&&i.validate(t),n&&f.validate(n),!0}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),!1}},T.prototype.__notActivatingExperiment=function(e,t){var n=p(y.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(v.INFO,n),null},T.prototype.__filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},T.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.__isValidInstance())return this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled")),!1;if(!this.__validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=d.getFeatureFromKey(r,e,this.logger);if(!i)return!1;var o=!1,a=this.decisionService.getVariationForFeature(r,i,t,n),s=a.variation,c={};s&&(o=s.featureEnabled,a.decisionSource===E.FEATURE_TEST&&(c={experimentKey:a.experiment.key,variationKey:a.variation.key},this._sendImpressionEvent(a.experiment.key,a.variation.key,t,n))),!0===o?this.logger.log(v.INFO,p(y.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t)):(this.logger.log(v.INFO,p(y.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t)),o=!1);var u={featureKey:e,featureEnabled:o,source:a.decisionSource,sourceInfo:c};return this.notificationCenter.sendNotifications(O.DECISION,{type:I.FEATURE,userId:t,attributes:n||{},decisionInfo:u}),o}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),!1}},T.prototype.getEnabledFeatures=function(e,t){try{var n=[];if(!this.__isValidInstance())return this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures")),n;if(!this.__validateInputs({user_id:e}))return n;var i=this.projectConfigManager.getConfig();return i?(r.forOwn(i.featureKeyMap,function(r){this.isFeatureEnabled(r.key,e,t)&&n.push(r.key)}.bind(this)),n):n}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),[]}},T.prototype.getFeatureVariable=function(e,t,n,r){try{return this._getFeatureVariableForType(e,t,null,n,r)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype._getFeatureVariableForType=function(e,t,n,r,i){if(!this.__isValidInstance()){var o=n?"getFeatureVariable"+n.charAt(0).toUpperCase()+n.slice(1):"getFeatureVariable";return this.logger.log(v.ERROR,p(y.INVALID_OBJECT,"OPTIMIZELY",o)),null}if(!this.__validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var a=this.projectConfigManager.getConfig();if(!a)return null;var s=d.getFeatureFromKey(a,e,this.logger);if(!s)return null;var c=d.getVariableForFeature(a,e,t,this.logger);if(!c)return null;if(n){if(c.type!==n)return this.logger.log(v.WARNING,p(y.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,c.type)),null}else n=c.type;var u=!1,f=c.defaultValue,l=this.decisionService.getVariationForFeature(a,s,r,i);if(null!==l.variation){u=l.variation.featureEnabled;var h=d.getVariableValueForVariation(a,c,l.variation,this.logger);null!==h?!0===u?(f=h,this.logger.log(v.INFO,p(y.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",t,s.key,f,r))):this.logger.log(v.INFO,p(y.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",s.key,r,t)):this.logger.log(v.INFO,p(y.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",t,l.variation.key))}else this.logger.log(v.INFO,p(y.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r,t,s.key));var b={};l.decisionSource===E.FEATURE_TEST&&(b={experimentKey:l.experiment.key,variationKey:l.variation.key});var _=d.getTypeCastValue(f,n,this.logger);return this.notificationCenter.sendNotifications(O.DECISION,{type:I.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:u,source:l.decisionSource,variableKey:t,variableValue:_,variableType:n,sourceInfo:b}}),_},T.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this._getFeatureVariableForType(e,t,m.BOOLEAN,n,r)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this._getFeatureVariableForType(e,t,m.DOUBLE,n,r)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this._getFeatureVariableForType(e,t,m.INTEGER,n,r)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.getFeatureVariableString=function(e,t,n,r){try{return this._getFeatureVariableForType(e,t,m.STRING,n,r)}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),null}},T.prototype.close=function(){try{var e=this.eventProcessor.stop();return this.__disposeOnUpdate&&(this.__disposeOnUpdate(),this.__disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.__readyTimeouts).forEach(function(e){var t=this.__readyTimeouts[e];clearTimeout(t.readyTimeout),t.onClose()}.bind(this)),this.__readyTimeouts={},e.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(v.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},T.prototype.onReady=function(e){var t,n;"object"===typeof e&&null!==e&&(t=e.timeout),r.isFinite(t)||(t=3e4);var i=new Promise((function(e){n=e})),o=this.__nextReadyTimeoutId;this.__nextReadyTimeoutId++;var a=function(){delete this.__readyTimeouts[o],n({success:!1,reason:p("onReady timeout expired after %s ms",t)})}.bind(this),s=setTimeout(a,t);return this.__readyTimeouts[o]={readyTimeout:s,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.__readyPromise.then(function(){clearTimeout(s),delete this.__readyTimeouts[o],n({success:!0})}.bind(this)),Promise.race([this.__readyPromise,i])},e.exports=T},"3af40382701b5b8256b1":function(e,t,n){var r=n("4eed1e36ccbbf199581d"),i=n("ad9f55ad5227816d53aa"),o=n("f0200b4beabe56dc845a");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},"3bdd39952085dbdd5939":function(e,t,n){var r=n("98522820a668af5a1c2f"),i=n("f31ae9cef8c5e366ba54"),o=n("3c1144d1d0b42ea1466f");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},"3c1144d1d0b42ea1466f":function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},"3cfaddbc49b3b4520d9c":function(e,t,n){var r=n("7b70b84aafc3be043372"),i=n("ebb7be79b6c15709c3d5"),o=n("9e7388381bfcbc4cb0c3"),a=n("f2ef6f6e544aad97aa22");e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},"3d7ccc0ee3004e3194a3":function(e,t,n){var r=n("883c01ec557fc8a5e1b1"),i=n("fc559c1db6037f379144"),o=n("04fddb994f93fcfa2bf7"),a=n("996e4603aa61c97f80d1"),s=n("ed435abeaba8ecaa0649"),c=r.getLogger("EVENT_BUILDER");function u(e,t){var n=[];return o.forOwn(t,(function(r,o){if(i.isAttributeValid(o,r)){var a=s.getAttributeId(e,o,c);a&&n.push({entityId:a,key:o,value:t[o]})}})),n}t.buildImpressionEvent=function(e){var t=e.configObj,n=e.experimentKey,r=e.variationKey,i=e.userId,a=e.userAttributes,c=e.clientEngine,f=e.clientVersion,l=s.getVariationIdFromExperimentAndVariationKey(t,n,r),d=s.getExperimentId(t,n),p=s.getLayerId(t,d);return{type:"impression",timestamp:o.currentTimestamp(),uuid:o.uuid(),user:{id:i,attributes:u(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:c,clientVersion:f,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:p},experiment:{id:d,key:n},variation:{id:l,key:r}}},t.buildConversionEvent=function(e){var t=e.configObj,n=e.userId,r=e.userAttributes,i=e.clientEngine,f=e.clientVersion,l=e.eventKey,d=e.eventTags,p=s.getEventId(t,l);return{type:"conversion",timestamp:o.currentTimestamp(),uuid:o.uuid(),user:{id:n,attributes:u(t,r)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:f,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:p,key:l},revenue:a.getRevenueValue(d,c),value:a.getEventValue(d,c),tags:d}}},"3dde4251a4e36fb3d2d7":function(e,t,n){var r=n("e0518b4d8d8d1ff354c0"),i=n("245ed3688bc2a5950bf8"),o=n("31756934c80df8e12080"),a=n("f2ef6f6e544aad97aa22");e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},"3e75510314c5cc5988ba":function(e,t,n){var r=n("e0518b4d8d8d1ff354c0");e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},"3e9c7e5351d86134f5f6":function(e,t,n){var r=n("fd551dfb891f1c5a1020"),i=n("c7b40aca13c4330396a9"),o=i;o.v1=r,o.v4=i,e.exports=o},"3f935c253d9c7ef47e52":function(e,t,n){var r=n("67042e57ad02a5947bc9"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},"40b4dc0133c73e835b3f":function(e,t,n){var r=n("c1f0d1a99b8185078838"),i=n("a607943c6ce671e7106b"),o=n("47e9e16a3e339321eec5");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},"4252c33ffda2a5716eca":function(e,t,n){var r=n("ce9cadeda4a5b4a1cf74"),i=n("01d665d42ac0fb526292");e.exports=function(e,t){return null!=e&&i(e,t,r)}},"42fc3dd1e1dd566874a9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("430760ce71a6876f481f"),i=n("883c01ec557fc8a5e1b1").getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise((function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(n){var r=e[n];t.setRequestHeader(n,r)}))}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}})),r}(n),t={statusCode:n.status,body:n.responseText,headers:e};o(t)}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()})),abort:function(){n.abort()}}}},"430760ce71a6876f481f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},"430d8aae6ebaf5595c07":function(e,t,n){var r=n("44b7d0c5261c9879c084");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"436f607eb5bb7e91dec1":function(e,t,n){var r=n("8bdd4315a9ab62a9788d"),i=n("9e7388381bfcbc4cb0c3");e.exports=function(e,t){return e&&r(e,i(t))}},"43b923cfacc75860e178":function(e,t){e.exports=function(e){return e}},"43dd891ba6876544e540":function(e,t,n){var r=n("4be2c15021f717a728f0")(n("18caba858d9ea0f67284"),"WeakMap");e.exports=r},"43e9e529a54d89a08995":function(e,t,n){var r=n("913c9a6b08bfb314c887"),i=n("4bfef6fdc48d634b8771");e.exports=function(e,t){return r(e,i(e),t)}},"44b7d0c5261c9879c084":function(e,t,n){var r=n("9b478f97cd46c0b02cbf");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"462d832399e590077545":function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"46f6e25d4e9dbf2c81f3":function(e,t,n){var r=n("ad9f55ad5227816d53aa");e.exports=function(){this.__data__=new r,this.size=0}},"47e9e16a3e339321eec5":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"4b93c5a7bb60dd6ab0f4":function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"4be2c15021f717a728f0":function(e,t,n){var r=n("65955717fc58c97d7378"),i=n("dba25a6f599687a5b44e");e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},"4bfef6fdc48d634b8771":function(e,t,n){var r=n("d5d7a5698f8c666b3a30"),i=n("a607943c6ce671e7106b"),o=n("6fbb5c3832d9bf525c40"),a=n("95959505b617e1839c43"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},"4c2c765baf933e4dff2b":function(e,t,n){var r=n("4eeb3262288466030436");e.exports=function(e){return r(this.__data__,e)>-1}},"4eeb3262288466030436":function(e,t,n){var r=n("941955270fde8df3ace1");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"4eed1e36ccbbf199581d":function(e,t,n){var r=n("d8649c0763a95c2c417b"),i=n("462d832399e590077545"),o=n("00945206146f7a17044b"),a=n("2f73661a3b84f5a43e35"),s=n("c1377f34d08aad8c0b3f");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},"5393f737c885af4ba6bc":function(e,t){e.exports={env:{feedBaseUrl:"//notifications.files.bbci.co.uk/",feedAggregatedInitialFeed:"latest.json",feedTopicInitialFeed:"latest.json",feedTopicMaxSubscriptions:12,iplayerUrl:"https://www.bbc.co.uk/iplayer",preferencesUrls:{get:"https://preferences.notifications.api.bbc.com/subscriptions",getUK:"https://preferences.notifications.api.bbc.co.uk/subscriptions",postClick:"https://preferences.notifications.api.bbc.com/click",postClickUK:"https://preferences.notifications.api.bbc.co.uk/click",postPreference:"https://preferences.notifications.api.bbc.com/preference",postPreferenceUK:"https://preferences.notifications.api.bbc.co.uk/preference",postPreferenceRelay:"https://preferences.notifications.api.bbc.com/preference/relay",postPreferenceRelayUK:"https://preferences.notifications.api.bbc.co.uk/preference/relay",idcta:"https://idcta.api.bbc.com/idcta/init",idctaUK:"https://idcta.api.bbc.co.uk/idcta/init",translations:"https://idcta.api.bbc.com/idcta/translations",translationsUK:"https://idcta.api.bbc.co.uk/idcta/translations"},under13s:{moreInfo:"http://www.bbc.co.uk/usingthebbc/account/what-are-child-permissions/"},idcta:{urls:{signin:"https://ssl.bbc.co.uk/id/signin",register:"https://ssl.bbc.co.uk/id/register"}},optimizely_sdk_key:"XM6J1w8nwrLUpQ2X5fdbcF",optimizely_poll_interval:6e5,notificationsPollingInterval:6e5,preferencesPollingInterval:6e5,lockExpiry:3e4,cacheTimeout:6e5,visibleChunkAmount:10,maxNotificationAge:5}}},"53e28e92d1187066acdd":function(e,t,n){var r=n("641bb0311bdb37373552"),i=n("f067ac76b1240cb9aa03");function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}var s=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)},r}(i.Component);function c(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function r(t){return this.shouldComponentUpdate=n,i.createElement(e,o({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}var u=i.options.__b;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}i.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),u&&u(e)};var l=function(e,t){return e?i.toChildArray(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},d={map:l,forEach:l,count:function(e){return e?i.toChildArray(e).length:0},only:function(e){if(1!==(e=i.toChildArray(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:i.toChildArray},p=i.options.__e;function h(e){return e&&((e=o({},e)).__c=null,e.__k=e.__k&&e.__k.map(h)),e}function b(){this.__u=0,this.o=null,this.__b=null}function _(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function g(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return i.createElement(n,o)}return o.displayName="Lazy",o.t=!0,o}function v(){this.i=null,this.l=null}i.options.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return r.__c(e,t.__c);p(e,t,n)},(b.prototype=new i.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=_(n.__v),i=!1,o=function(){i||(i=!0,r?r(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(o,o)},b.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=h(this.__b),this.__b=null),[i.createElement(i.Component,null,t.u?null:e.children),t.u&&e.fallback]};var y=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(v.prototype=new i.Component).u=function(e){var t=this,n=_(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),y(t,e,r)):i()};n?n(o):o()}},v.prototype.render=function(e){this.i=null,this.l=new Map;var t=i.toChildArray(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){y(e,n,t)}))};var E=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function m(e){var t=this,n=e.container,r=i.createElement(E,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.p.parentNode&&t.s.removeChild(t.p),i._e(t.v),t.h=!1),e.vnode?t.h?(n.__k=t.__k,i.render(r,n),t.__k=n.__k):(t.p=document.createTextNode(""),i.hydrate("",n),n.appendChild(t.p),t.h=!0,t.s=n,i.render(r,n,t.p),t.__k=t.p.__k):t.h&&(t.p.parentNode&&t.s.removeChild(t.p),i._e(t.v)),t.v=r,t.componentWillUnmount=function(){t.p.parentNode&&t.s.removeChild(t.p),i._e(t.v)},null}function I(e,t){return i.createElement(m,{vnode:e,container:t})}var O=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;i.Component.prototype.isReactComponent={};var T="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function N(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return i.render(e,t),"function"==typeof n&&n(),e?e.__c:null}var R=i.options.event;function A(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}i.options.event=function(e){R&&(e=R(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var S={configurable:!0,get:function(){return this.class}},w=i.options.vnode;function P(e){return i.createElement.bind(null,e)}function U(e){return!!e&&e.$$typeof===T}function L(e){return U(e)?i.cloneElement.apply(null,arguments):e}function x(e){return!!e.__k&&(i.render(null,e),!0)}function C(e){return e&&(e.base||1===e.nodeType&&e)||null}i.options.vnode=function(e){e.$$typeof=T;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(S.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",S)),"function"!=typeof t){var r,o,a;for(a in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(i.toChildArray(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=O.test(a))break;if(r)for(a in o=e.props={},n)o[O.test(a)?a.replace(/[A-Z0-9]/,"-$&").toLowerCase():a]=n[a]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var i={};for(var o in r)/^on(Ani|Tra|Tou)/.test(o)&&(r[o.toLowerCase()]=r[o],delete r[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(r.ondblclick=r[i.ondoubleclick],delete r[i.ondoubleclick]),i.onbeforeinput&&(r.onbeforeinput=r[i.onbeforeinput],delete r[i.onbeforeinput]),i.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var a=i.oninput||"oninput";r[a]||(r[a]=r[i.onchange],delete r[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(A(t.prototype,"componentWillMount"),A(t.prototype,"componentWillReceiveProps"),A(t.prototype,"componentWillUpdate"),t.m=!0)}w&&w(e)};var D=function(e,t){return e(t)},j={useState:r.useState,useReducer:r.useReducer,useEffect:r.useEffect,useLayoutEffect:r.useLayoutEffect,useRef:r.useRef,useImperativeHandle:r.useImperativeHandle,useMemo:r.useMemo,useCallback:r.useCallback,useContext:r.useContext,useDebugValue:r.useDebugValue,version:"16.8.0",Children:d,render:N,hydrate:N,unmountComponentAtNode:x,createPortal:I,createElement:i.createElement,createContext:i.createContext,createFactory:P,cloneElement:L,createRef:i.createRef,Fragment:i.Fragment,isValidElement:U,findDOMNode:C,Component:i.Component,PureComponent:s,memo:c,forwardRef:f,unstable_batchedUpdates:D,Suspense:b,SuspenseList:v,lazy:g};Object.keys(r).forEach((function(e){t[e]=r[e]})),t.createElement=i.createElement,t.createContext=i.createContext,t.createRef=i.createRef,t.Fragment=i.Fragment,t.Component=i.Component,t.version="16.8.0",t.Children=d,t.render=N,t.hydrate=function(e,t,n){return i.hydrate(e,t),"function"==typeof n&&n(),e?e.__c:null},t.unmountComponentAtNode=x,t.createPortal=I,t.createFactory=P,t.cloneElement=L,t.isValidElement=U,t.findDOMNode=C,t.PureComponent=s,t.memo=c,t.forwardRef=f,t.unstable_batchedUpdates=D,t.Suspense=b,t.SuspenseList=v,t.lazy=g,t.default=j},"57364619bbc6ef867c65":function(e,t,n){e.exports=n.p+"/css/main.min.css"},"582d5db58646a901463d":function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},"58364c04a33db8476261":function(e,t){e.exports={"en-GB":{disabled:{notificationsOff:"Notifications are off",turnOnNotifications:"Turn on notifications to stay up to date with added shows and choice picks."},settings:{allowNotifications:"Allow notifications",turnOffNotifications:"You can turn off all notifications, or some notifications only.",updates:"{0} updates"},emptyState:{nothingNew:"Nothing new for now",addMore:"Try adding more of your favourite shows, and check back again soon.",exploreShows:"Explore shows"},onboarding:{neverMissFavs:"Never miss your favourites",stayUpToDate:"Stay up to date with your added shows and other choice picks.",addSubscribe:"Add, subscribe, or save your favourite things, and we'll take care of the rest"},copy:{noNotifications1:"No notifications right now. We'll let you know when something from your favourite programmes, artists and playlists is available for you.",noNotifications2:"If your notifications are turned off, you can always turn them back on. Just go to settings.",upsell:{title:"Never miss <br/> your favourites",body:"Get notifications about your favourite programmes, music and more."},ok:"OK, I'm in",showMeMore:"Show me more",error:{somethingWentWrong:"Sorry, something has gone wrong.",hubDisplay:"There's been an error and your notifications <br/>can't be displayed at the moment. Please try again later.",hubUpdate:"Sorry, something has gone wrong.<br/>Your notifications could not be updated. Please try again later.",settingsDisplay:"There's been an error and your notifications settings <br/>cannot be retrieved. Please try again later.",settingsUpdate:"Sorry, something has gone wrong.<br/>Your settings could not be updated. Please try again later.",onboarding:"There's been an error and we are unable to get you <br/> started with notifications. Please try again later."},under13:{moreInfo:"Find out more about child permissions",parentId:{title:"Want to hear about new stuff first?",body:"You need permission from a parent or guardian to get notifications.",button:"Ask for permission."},linkPending:{title:"You need permission from a parent or guardian to use notifications",body:"We've sent them an email that tells them what to do. Ask them to check their inbox and follow the steps. To send a new email, visit your BBC account settings."},permissionNotifications:{title:"You need permission from a parent or guardian to use notifications",body:"They can give permission by visiting the Child Permissions section in their BBC account settings."},done:"All done! You can now use your notifications."}}},"cy-GB":{disabled:{notificationsOff:"Hysbysiadau wedi diffodd",turnOnNotifications:"Trowch hysbysiadau ymlaen i gael gwybod am y sioeau a\u2019r dewisiadau diweddaraf."},settings:{allowNotifications:"Caniat\xe1u hysbysiadau",turnOffNotifications:"Gallwch ddiffodd yr holl hysbysiadau, neu dim ond rhai.",updates:"Y diweddaraf yn {0}"},emptyState:{nothingNew:"Dim byd newydd ar hyn o bryd",addMore:"Ychwanegwch ragor o\u2019ch hoff sioeau, a dewch yn \xf4l nes ymlaen.",exploreShows:"Rhagor o sioeau"},onboarding:{neverMissFavs:"Peidiwch \xe2 methu eich ffefrynnau",stayUpToDate:"Eich sioeau a dewisiadau diweddaraf i gyd mewn un lle.",addSubscribe:"Ychwanegwch, tanysgrifiwch neu arbedwch eich hoff bethau, a gadewch bopeth arall i ni."},Notifications:"Hysbysiadau","Notifications settings":"Gosodiadau'r Hysbysiadau",Settings:"Gosodiadau",Back:"N\xf4l","day ago":"dydd yn \xf4l","days ago":"o ddyddiau yn \xf4l","hour ago":"awr yn \xf4l","hours ago":"awr yn \xf4l","minute ago":"munud yn \xf4l","minutes ago":"o funudau yn \xf4l",Yesterday:"Ddoe","10 minutes ago":"10 munud yn \xf4l","Just now":"Eiliad yn \xf4l","{product} Notifications":"Gosodiadau {product}","Sign in":"Mewngofnodi",or:"neu",Register:"Gofrestru","You're in charge":"Yn eich dwylo chi","Visit your Settings any time to manage your notifications.":"Ewch i'ch Gosodiadau unrhyw bryd i reoli eich hysbysiadau.","Load More":"Llwytho mwy",Close:"Cau","Go to Next slide":"Mynd i'r sleid nesaf","Go to Previous slide":"Mynd i'r sleid flaenorol","Go to slide 1":"Mynd i sleid 1","Go to slide 2":"Mynd i sleid 2","Go to slide 3":"Mynd i sleid 3",copy:{noNotifications1:"Dim hysbysiadau ar hyn o bryd. Byddwn ni'n gadael i chi wybod pan mae rhywbeth gan eich hoff raglenni, artistiaid a rhestrau chwarae ar gael i chi.",noNotifications2:"Os ydy'ch hysbysiadau wedi eu diffodd, gallwch eu troi n\xf4l ymlaen. Ewch i'r gosodiadau.",upsell:{title:"Peidiwch \xe2 methu eich ffefrynnau",body:"Hysbysiadau am eich hoff rhaglenni, cerddoriaeth a mwy."},ok:"Iawn",showMeMore:"Dangos mwy",error:{somethingWentWrong:"Mae rhywbeth wedi mynd o'i le.",hubDisplay:"'Dyw hi ddim yn bosib dangos eich hysbysiadau ar hyn o bryd. Triwch eto nes ymlaen.",hubUpdate:"'Dyw eich hysbysiadau ddim yn gallu cael eu diweddaru. Triwch eto nes ymlaen.",settingsDisplay:"Mae yna broblem gyda'r gosodiadau ar hyn o bryd. Triwch eto nes ymlaen.",settingsUpdate:"'Dyw hi ddim yn bosib diweddaru eich gosodiadau. Triwch eto nes ymlaen.",onboarding:"'Dyw hi ddim yn bosib dechrau arni ar hyn o bryd. Triwch eto nes ymlaen."},under13:{moreInfo:"Dysgu mwy am ganiat\xe2d i blant",parentId:{title:"Eisiau clywed am bethau newydd gyntaf?",body:"Rwyt ti angen caniat\xe2d gan riant neu warchodwr i gael hysbysiadau.",button:"Gofynna am ganiat\xe2d."},linkPending:{title:"Rwyt ti angen caniat\xe2d rhiant neu warchodwr i ddefnyddio hysbysiadau",body:"Rydyn ni wedi anfon e-bost atyn nhw sy\u2019n egluro beth i\u2019w wneud. Maen nhw angen edrych yn eu mewnflwch a dilyn y cyfarwyddiadau. Er mwyn cael e-bost newydd, cer i osodiadau dy gyfrif BBC."},permissionNotifications:{title:"Rwyt ti angen caniat\xe2d rhiant neu warchodwr i ddefnyddio hysbysiadau",body:"Gallan nhw roi caniat\xe2d drwy fynd i adran Caniat\xe2d i Blant yng ngosodiadau eu cyfrif BBC."},done:"Barod! Nawr galli di ddefnyddio dy hysbysiadau."}}},"gd-GB":{disabled:{notificationsOff:"Tha fiosan dheth",turnOnNotifications:"Cuir fiosan air airson cumail suas ri pr\xf2graman \xf9ra agus taghaidhean."},settings:{allowNotifications:"Ceadaich fiosan",turnOffNotifications:"Faodar fiosan a chur dheth gu tur, no d\xecreach cuid de dh'fhiosan.",updates:"\xd9rachaidhean {0}"},emptyState:{nothingNew:"Chan eil dad \xf9r an-dr\xe0sta",addMore:"Feuch ri tuilleadh de na pr\xf2graman as fhe\xe0rr leat a chur ris, agus thoir s\xf9il a-rithist a dh'aithghearr.",exploreShows:"Thoir s\xf9il air pr\xf2graman eile"},onboarding:{neverMissFavs:"Na caill na pr\xf2graman as fhe\xe0rr leat",stayUpToDate:"C\xf9m suas ris na pr\xf2graman a chur thu ris agus taghaidhean eile.",addSubscribe:"Cuir ris, fo-sgr\xecobh, no s\xe0bhail na rudan as fhe\xe0rr leat, agus cumaidh sinne s\xf9il air a' ch\xf2rr."},Notifications:"Fiosan","Notifications settings":"Seataidhean Fiosa",Settings:"Seataidhean",Back:"Air ais","day ago":"latha air ais","days ago":"l\xe0ithean air ais","hour ago":"uair air ais","hours ago":"uairean air ais","minute ago":"mhionaid air ais","minutes ago":"mionaidean air ais",Yesterday:"An-d\xe8","10 minutes ago":"10 mionaidean air ais","Just now":"An-dr\xe0sta","{product} Notifications":"Fiosan {product}","Sign in":"Log a-steach",or:"no",Register:"Cl\xe0raich","You're in charge":"'S tusa a tha os cionn ch\xf9isean!","Visit your Settings any time to manage your notifications.":"Th\xe8id gu Seataidhean airson rian a chumail air d' fhiosan","Load More":"Faic tuilleadh",Close:"D\xf9in","Go to Next slide":"An ath slaighd","Go to Previous slide":"An slaighd roimhe","Go to slide 1":"Rach gu slaighd 1","Go to slide 2":"Rach gu slaighd 2","Go to slide 3":"Rach gu slaighd 3",copy:{noNotifications1:"Chan eil fiosan ann an-dr\xe0sta. Leigidh sinn fios nuair a bhios rudeigin ann bho na pr\xf2graman, luchd ci\xf9il is cl\xe0ran-ci\xf9il as fhe\xe0rr leat.",noNotifications2:"Ma tha d\u2019 fhiosan air an cur dheth, faodaidh tu an cur air a-rithist le bhith dol gu seataidhean.",upsell:{title:"Na caill na rudan as fhe\xe0rr leat",body:"Faigh fiosan mu na pr\xf2graman 's an ce\xf2l as fhe\xe0rr leat agus gu le\xf2r eile."},ok:"Ceart",showMeMore:"Seall tuilleadh",error:{somethingWentWrong:"Duilich, tha rudeigin air a dhol ce\xe0rr.",hubDisplay:"Chaidh rudeigin ce\xe0rr is chan urrainnear d\u2019 fhiosan a shealltainn an-dr\xe0sta. Feuch a-rithist.",hubUpdate:"Duilich, tha rudeigin air a dhol ce\xe0rr. Cha b\u2019 urrainnear d' fhiosan \xf9rachadh. Feuch a-rithist.",settingsDisplay:"Chaidh rudeigin ce\xe0rr is chan fhaighear do sheataidhean fiosa. Feuch a-rithist.",settingsUpdate:"Duilich, tha rudeigin air a dhol ce\xe0rr. Cha b\u2019 urrainnear do sheataidhean \xf9rachadh. Feuch a-rithist.",onboarding:"Chaidh rudeigin ce\xe0rr is chan fhaigh sinn air d\u2019 fhiosan a chur an s\xe0s. Feuch a-rithist."},under13:{moreInfo:"Faigh a-mach tuilleadh mu cheadan cloinne",parentId:{title:"Airson cluinntinn mu rudan \xf9ra an toiseach?",body:"Feumaidh tu cead bho ph\xe0rant no bho neach-c\xf9raim airson brathan fhaighinn.",button:"Iarr cead."},linkPending:{title:"Feumar cead fhaighinn bho ph\xe0rant no neach-c\xf9raim airson fiosan a chleachdadh",body:"Tha sinn air post-d a chur thuca le sti\xf9ireadh. Iarr orra s\xf9il a thoirt air na puist-d aca agus na ceumannan a' leantainn. Tadhal air seataidhean cunntais a' BhBC airson post-d a chur air falbh."},permissionNotifications:{title:"Feumar cead fhaighinn bho ph\xe0rant no neach-c\xf9raim airson fiosan a chleachdadh",body:"Faodaidh iadsan cead a thoirt le bhith tadhal air Ceadan Chloinne ann an seataidhean cunntais a' BhBC."},done:"D\xe8anta! Faodaidh tu na fiosan agad a chleachdadh."}}},"ga-GB":{disabled:{notificationsOff:"F\xf3gra\xed m\xfachta",turnOnNotifications:"Cuir f\xf3gra\xed ag dul le fanacht cothrom le d\xe1ta leis na cl\xe1ir a chuir t\xfa leis agus le roghanna scoth\xfala."},settings:{allowNotifications:"Ceadaigh f\xf3gra\xed",turnOffNotifications:"Thig leat na f\xf3gra\xed uilig a mh\xfachadh, n\xf3 cuid acu.",updates:"Nuashonra\xed {0}"},emptyState:{nothingNew:"Tada \xfar faoi l\xe1thair",addMore:"Bain triail as n\xedos m\xf3 de na cl\xe1ir is ansa leat a chur leis, agus seice\xe1il ar ais linn sul i bhfad.",exploreShows:"Taisc\xe9al cl\xe1ir"},onboarding:{neverMissFavs:"N\xe1 caill do chean\xe1in in am ar bith",stayUpToDate:"Fan cothrom le d\xe1ta leis na cl\xe1ir a chuir t\xfa leis agus le roghanna scoth\xfala.",addSubscribe:"Cuir leis, cl\xe1raigh n\xf3 s\xe1bh\xe1il na ruda\xed is ansa leat agus f\xe1g gach rud eile f\xfainne.  "},Notifications:"F\xf3gra\xed","Notifications settings":"Socruithe na bhF\xf3gra\xed",Settings:"Socruithe",Back:"Siar","day ago":"l\xe1 \xf3 shin","days ago":"l\xe1 \xf3 shin","hour ago":"uair \xf3 shin","hours ago":"uair \xf3 shin","minute ago":"n\xf3im\xe9ad \xf3 shin","minutes ago":"n\xf3im\xe9ad \xf3 shin",Yesterday:"Inn\xe9","10 minutes ago":"10 mbomaite \xf3 shin","Just now":"D\xedreach ansin","{product} Notifications":"F\xf3gra\xed {product}","Sign in":"S\xednigh isteach",or:"n\xf3",Register:"Cl\xe1raigh","You're in charge":"T\xe1 t\xfa i gceannas!","Visit your Settings any time to manage your notifications.":"Tabhair cuairt ar do chuid Socruithe le go dtig leat smacht a choinne\xe1il orthu.","Load More":"L\xf3d\xe1il tuilleadh",Close:"Druid","Go to Next slide":"T\xe9igh go c\xe9ad sleamhn\xe1n eile","Go to Previous slide":"T\xe9igh go sleamhn\xe1n roimhe","Go to slide 1":"T\xe9igh go sleamhn\xe1n 1","Go to slide 2":"T\xe9igh go sleamhn\xe1n 2","Go to slide 3":"T\xe9igh go sleamhn\xe1n 3",copy:{noNotifications1:"N\xedl f\xf3gra\xed ann faoi l\xe1thair. Beidh muid i dteagmh\xe1il leat m\xe1 bh\xedonn rud \xe9igin ar f\xe1il a bhaineann leis na cl\xe1ir, na ceolt\xf3ir\xed n\xf3 na seinnliosta\xed is ansa leat.",noNotifications2:"M\xe1 t\xe1 do chuid f\xf3gra\xed m\xfachta, thig leat iad a chur air ar\xeds. T\xe9igh go socruithe.",upsell:{title:"N\xe1 caill do chian\xe1in riamh",body:"Aimsigh f\xf3gra\xed faoi do chian\xe1in, do cheol agus n\xedos m\xf3."},ok:"Ceart go leor",showMeMore:"Taispe\xe1in a thuilleadh",error:{somethingWentWrong:"T\xe1 br\xf3n orainn, t\xe1 rud \xe9igin cearr.",hubDisplay:"T\xe1 rud \xe9igin cearr agus n\xed f\xe9idir do chuid f\xf3gra\xed a fheice\xe1il faoi l\xe1thair. Triail ar\xeds n\xedos moille, le do thoil.",hubUpdate:"T\xe1 br\xf3n orainn, t\xe1 rud \xe9igin cearr. N\xed f\xe9idir do chuid f\xf3gra\xed a uasd\xe1t\xfa. Triail ar\xeds n\xedos moille, le do thoil.",settingsDisplay:"T\xe1 fadhb le socruithe na bhf\xf3gra\xed s'agat agus n\xedl f\xe1il orthu. Triail ar\xeds n\xedos moille, le do thoil.",settingsUpdate:"T\xe1 br\xf3n orainn, t\xe1 rud \xe9igin cearr. N\xed f\xe9idir do chuid f\xf3gra\xed a uasd\xe1t\xfa. Triail ar\xeds n\xedos moille, le do thoil.",onboarding:"T\xe1 fadhb \xe9igin ann agus n\xed f\xe9idir do chuid f\xf3gra\xed a chur sa tsi\xfal. Triail ar\xeds n\xedos moille, le do thoil."},under13:{moreInfo:"Tuilleadh eolais ar cheadanna p\xe1ist\xed",parentId:{title:"Ar mhaith leat bheith ar an eolas faoin stuif \xfar ar dt\xfas?",body:"Beidh cead do thuismitheora n\xf3 do chaomhn\xf3ra de dh\xedth ort m\xe1s mian leat f\xf3gra\xed a fh\xe1il.",button:"Iarr cead."},linkPending:{title:"T\xe1 cead tuismitheora n\xf3 caomhn\xf3ra de dh\xedth ort le f\xf3gra\xed a \xfas\xe1id",body:"Sheol muid r\xedomhphost chucu a ins\xedonn d\xf3ibh cad \xe9 at\xe1 le d\xe9anamh. Iarr orthu a mbosca isteach a sheice\xe1il agus na c\xe9imeanna a lean\xfaint. Le r\xedomhphost \xfar a sheoladh, tabhair cuairt ar shocruithe do chuntais BBC."},permissionNotifications:{title:"T\xe1 cead tuismitheora n\xf3 caomhn\xf3ra de dh\xedth ort le f\xf3gra\xed a \xfas\xe1id",body:"Thig leo cead a thabhairt ach dul chuig Ceadanna P\xe1ist\xed i socruithe a c(h)untais BBC."},done:"D\xe9anta! Thig leat d\u2019fh\xf3gra\xed a \xfas\xe1id anois."}}}}},"596dbf5a57be1d3c969c":function(e,t,n){var r=n("64b04a93b2ad0294c239"),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},"5a779e783a8e31d25729":function(e,t,n){var r=n("ad9f55ad5227816d53aa"),i=n("f0200b4beabe56dc845a"),o=n("90d51c13c6e8468d0322");e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},"5a7ccd6273ec77fdeabc":function(e,t,n){var r=n("4be2c15021f717a728f0")(Object,"create");e.exports=r},"5ad5fa305fb9d8886d1b":function(e,t,n){var r=n("0fc56de7c1b97231ebe1"),i=n("913c9a6b08bfb314c887"),o=n("9c29dc7850f23c4744c5"),a=n("c9327538105d995811b8"),s=n("47e9e16a3e339321eec5"),c=n("3478ed78d76c28060dce"),u=Object.prototype.hasOwnProperty,f=o((function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=f},"5de5c65c2c431f821291":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("698d75b157f24ae829cc"))},"5e3cd3d9f80aca029dd7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("53e28e92d1187066acdd"),o=n("883c01ec557fc8a5e1b1"),a=(r=n("5ef9de3df8d92ea0e41c"))&&"object"===typeof r&&"default"in r?r.default:r,s=n("b350551b971d2ccc8812"),c=i.createContext({optimizely:null,isServerSide:!1,timeout:0}),u=c.Consumer,f=c.Provider,l=u,d=f,p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var _=o.getLogger("<OptimizelyProvider>"),g=function(e){function t(t){var n=e.call(this,t)||this,r=t.optimizely,i=t.userId,o=t.userAttributes,a=t.user,s=null;return a?"then"in a?a.then((function(e){r.setUser(e)})):s={id:a.id,attributes:a.attributes||{}}:i&&(s={id:i,attributes:o||{}},_.warn("Passing userId and userAttributes as props is deprecated, please switch to using `user` prop")),s&&r.setUser(s),n}return h(t,e),t.prototype.componentDidUpdate=function(e){if(!e.isServerSide){var t=this.props.optimizely;this.props.user&&"id"in this.props.user&&(t.user.id&&function(e,t){if(e.id!==t.id)return!1;var n=Object.keys(e.attributes),r=Object.keys(t.attributes);if(n.sort(),r.sort(),!(n.length===r.length))return!1;for(var i=0;i<n.length;i++){var o=n[i],a=r[i];if(o!==a)return!1;if(e.attributes[o]!==t.attributes[a])return!1}return!0}({id:t.user.id,attributes:t.user.attributes},{id:this.props.user.id,attributes:this.props.user.attributes||{}})||t.setUser(this.props.user))}},t.prototype.render=function(){var e=this.props,t=e.optimizely,n=e.children,r=e.timeout,o={optimizely:t,isServerSide:!!this.props.isServerSide,timeout:r};return i.createElement(d,{value:o},n)},t}(i.Component);function v(e){var t,n,r,o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.render=function(){var t=this.props,n=t.forwardedRef,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["forwardedRef"]);return i.createElement(l,null,(function(t){return i.createElement(e,b({},r,{optimizelyReadyTimeout:t.timeout,optimizely:t.optimizely,isServerSide:t.isServerSide,ref:n}))}))},n}(i.Component);return t=o,(r=function(e,n){return i.createElement(t,b({},e,{forwardedRef:n}))}).displayName="withOptimizely"+"("+((n=e).displayName||n.name)+")",a(i.forwardRef(r),n)}var y=o.getLogger("ReactSDK"),E=function(){function e(e){var t=this;this.user={id:null,attributes:{}},this.isUserPromiseResolved=!1,this.onUserUpdateHandlers=[],this.initialConfig=e,this.userPromiseResovler=function(){};var n=b({},e,{clientEngine:"react-sdk",clientVersion:"1.0.1"});this._client=s.createInstance(n),this.userPromise=new Promise((function(e){t.userPromiseResovler=e})).then((function(){return{success:!0}})),this.dataReadyPromise=Promise.all([this.userPromise,this._client.onReady()]).then((function(){return{success:!0,reason:"datafile and user resolved"}}))}return e.prototype.onReady=function(e){var t;void 0===e&&(e={});var n=5e3;e&&void 0!==e.timeout&&(n=e.timeout);var r=new Promise((function(e){t=setTimeout((function(){e({success:!1,reason:"failed to initialize onReady before timeout, either the datafile or user info was not set before the timeout"})}),n)}));return Promise.race([this.dataReadyPromise,r]).then((function(e){return clearTimeout(t),e}))},e.prototype.setUser=function(e){var t=this;e.id&&(this.user.id=e.id),e.attributes&&(this.user.attributes=e.attributes),this.isUserPromiseResolved||(this.userPromiseResovler(this.user),this.isUserPromiseResolved=!0),this.onUserUpdateHandlers.forEach((function(e){return e(t.user)}))},e.prototype.onUserUpdate=function(e){var t=this;return this.onUserUpdateHandlers.push(e),function(){var n=t.onUserUpdateHandlers.indexOf(e);n>-1&&t.onUserUpdateHandlers.splice(n,1)}},e.prototype.activate=function(e,t,n){var r=this.getUserContextWithOverrides(t,n);return null===r.id?(y.info('Not activating experiment "%s" because userId is not set',e),null):this._client.activate(e,r.id,r.attributes)},e.prototype.getVariation=function(e,t,n){var r=this.getUserContextWithOverrides(t,n);return null===r.id?(y.info('getVariation returned null for experiment "%s" because userId is not set',e),null):this._client.getVariation(e,r.id,r.attributes)},e.prototype.track=function(e,t,n,r){"undefined"!==typeof t&&"string"!==typeof t&&(r=t,t=void 0,n=void 0);var i=this.getUserContextWithOverrides(t,n);if(null!==i.id)return this._client.track(e,i.id,i.attributes,r);y.info('track for event "%s" not being sent because userId is not set',e)},e.prototype.isFeatureEnabled=function(e,t,n){var r=this.getUserContextWithOverrides(t,n);return null===r.id?(y.info('isFeatureEnabled returning false for feature "%s" because userId is not set',e),!1):this._client.isFeatureEnabled(e,r.id,r.attributes)},e.prototype.getFeatureVariables=function(e,t,n){var r=this,i=this.getUserContextWithOverrides(t,n),o=i.id;if(null===o)return y.info('getFeatureVariables returning `{}` for feature "%s" because userId is not set',e),{};var a=i.attributes,s={},c=this._client.projectConfigManager.getConfig();if(!c)return{};var u=c.featureKeyMap[e];return u?(u.variables.forEach((function(t){var n=t.type,i=t.key;switch(n){case"string":s[i]=r._client.getFeatureVariableString(e,i,o,a);break;case"boolean":s[i]=r._client.getFeatureVariableBoolean(e,i,o,a);break;case"integer":s[i]=r._client.getFeatureVariableInteger(e,i,o,a);break;case"double":s[i]=r._client.getFeatureVariableDouble(e,i,o,a)}})),s):{}},e.prototype.getFeatureVariableString=function(e,t,n,r){var i=this.getUserContextWithOverrides(n,r);return null===i.id?null:this._client.getFeatureVariableString(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){var i=this.getUserContextWithOverrides(n,r);return null===i.id?null:this._client.getFeatureVariableBoolean(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableInteger=function(e,t,n,r){var i=this.getUserContextWithOverrides(n,r);return null===i.id?null:this._client.getFeatureVariableInteger(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableDouble=function(e,t,n,r){var i=this.getUserContextWithOverrides(n,r);return null===i.id?null:this._client.getFeatureVariableDouble(e,t,i.id,i.attributes)},e.prototype.getEnabledFeatures=function(e,t){var n=this.getUserContextWithOverrides(e,t);return null===n.id?[]:this._client.getEnabledFeatures(n.id,n.attributes)},e.prototype.getForcedVariation=function(e,t){var n=this.getUserContextWithOverrides(t);return null===n.id?null:this._client.getForcedVariation(e,n.id)},e.prototype.setForcedVariation=function(e,t,n){var r=null,i=null;if(2===arguments.length)i=t,r=this.getUserContextWithOverrides().id;else if(3===arguments.length){if(r=this.getUserContextWithOverrides(t).id,void 0===n)return!1;i=n}return null!==r&&this._client.setForcedVariation(e,r,i)},e.prototype.close=function(){return this._client.close()},Object.defineProperty(e.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notificationCenter",{get:function(){return this._client.notificationCenter},enumerable:!0,configurable:!0}),e.prototype.getUserContextWithOverrides=function(e,t){return{id:void 0===e?this.user.id:e,attributes:void 0===t?this.user.attributes:t}},e}();var m=o.getLogger("<OptimizelyFeature>"),I=v(function(e){function t(t){var n=e.call(this,t)||this;n.autoUpdate=!1,n.unregisterUserListener=function(){};var r=t.autoUpdate,i=t.isServerSide,o=t.optimizely,a=t.feature;if(n.autoUpdate=!!r,i){if(null===o)throw new Error("optimizely prop must be supplied");var s=o.isFeatureEnabled(a),c=o.getFeatureVariables(a);n.state={canRender:!0,isEnabled:s,variables:c}}else n.state={canRender:!1,isEnabled:!1,variables:{}};return n}return h(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.feature,r=t.optimizely,i=t.optimizelyReadyTimeout,o=t.isServerSide,a=t.timeout;if(null===r)throw new Error("optimizely prop must be supplied");if(!o){var s=void 0!==a?a:i;r.onReady({timeout:s}).then((function(t){t.success?m.info('feature="%s" successfully rendered for user="%s"',n,r.user.id):m.info('feature="%s" could not be checked before timeout of %sms, reason="%s" ',n,void 0===a?5e3:a,t.reason||"");var i=r.isFeatureEnabled(n),o=r.getFeatureVariables(n);e.setState({canRender:!0,isEnabled:i,variables:o}),e.autoUpdate&&e.setupAutoUpdateListeners()}))}},t.prototype.setupAutoUpdateListeners=function(){var e=this,t=this.props,n=t.optimizely,r=t.feature;null!==n&&(this.optimizelyNotificationId=n.notificationCenter.addNotificationListener("OPTIMIZELY_CONFIG_UPDATE",(function(){m.info('OPTIMIZELY_CONFIG_UPDATE, re-evaluating feature="%s" for user="%s"',r,n.user.id);var t=n.isFeatureEnabled(r),i=n.getFeatureVariables(r);e.setState({isEnabled:t,variables:i})})),this.unregisterUserListener=n.onUserUpdate((function(){m.info('User update, re-evaluating feature="%s" for user="%s"',r,n.user.id);var t=n.isFeatureEnabled(r),i=n.getFeatureVariables(r);e.setState({isEnabled:t,variables:i})})))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.optimizely;!e.isServerSide&&this.autoUpdate&&(t&&this.optimizelyNotificationId&&t.notificationCenter.removeNotificationListener(this.optimizelyNotificationId),this.unregisterUserListener())},t.prototype.render=function(){var e=this.props.children,t=this.state,n=t.isEnabled,r=t.variables;return t.canRender?e(n,r):null},t}(i.Component)),O=o.getLogger("<OptimizelyExperiment>"),T=v(function(e){function t(t){var n=e.call(this,t)||this;n.unregisterUserListener=function(){},n.autoUpdate=!1;var r=t.autoUpdate,i=t.isServerSide,o=t.optimizely,a=t.experiment;if(n.autoUpdate=!!r,i){if(null===o)throw new Error("optimizely prop must be supplied");var s=o.activate(a);n.state={canRender:!0,variation:s}}else n.state={canRender:!1,variation:null};return n}return h(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.experiment,r=t.optimizely,i=t.optimizelyReadyTimeout,o=t.isServerSide,a=t.timeout;if(!r)throw new Error("optimizely prop must be supplied");if(!o){var s=void 0!==a?a:i;r.onReady({timeout:s}).then((function(t){t.success?O.info('experiment="%s" successfully rendered for user="%s"',n,r.user.id):O.info('experiment="%s" could not be checked before timeout of %sms, reason="%s" ',n,void 0===a?5e3:a,t.reason||"");var i=r.activate(n);e.setState({canRender:!0,variation:i}),e.autoUpdate&&e.setupAutoUpdateListeners()}))}},t.prototype.setupAutoUpdateListeners=function(){var e=this,t=this.props,n=t.optimizely,r=t.experiment;null!==n&&(this.optimizelyNotificationId=n.notificationCenter.addNotificationListener("OPTIMIZELY_CONFIG_UPDATE",(function(){O.info('OPTIMIZELY_CONFIG_UPDATE, re-evaluating experiment="%s" for user="%s"',r,n.user.id);var t=n.activate(r);e.setState({variation:t})})),this.unregisterUserListener=n.onUserUpdate((function(){O.info('User update, re-evaluating experiment="%s" for user="%s"',r,n.user.id);var t=n.activate(r);e.setState({variation:t})})))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.optimizely;!e.isServerSide&&this.autoUpdate&&(t&&this.optimizelyNotificationId&&t.notificationCenter.removeNotificationListener(this.optimizelyNotificationId),this.unregisterUserListener())},t.prototype.render=function(){var e=this.props.children,t=this.state,n=t.variation;if(!t.canRender)return null;if(null!=e&&"function"===typeof e)return e(n);var r=null;return i.Children.forEach(this.props.children,(function(e){!r&&i.isValidElement(e)&&(e.props.variation?n===e.props.variation&&(r=e):e.props.default&&(r=e))})),r?i.cloneElement(r,{variation:n}):null},t}(i.Component)),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return this.props.children},t}(i.Component),R=o.getLogger("ReactSDK"),A={dispatchEvent:function(e,t){R.debug("Event not dispatched by disabled event dispatcher: %s",(function(){var t;try{t=JSON.stringify(e)}catch(e){t="error stringifying event"}return t}))}};Object.defineProperty(t,"enums",{enumerable:!0,get:function(){return s.enums}}),Object.defineProperty(t,"errorHandler",{enumerable:!0,get:function(){return s.errorHandler}}),Object.defineProperty(t,"eventDispatcher",{enumerable:!0,get:function(){return s.eventDispatcher}}),Object.defineProperty(t,"logging",{enumerable:!0,get:function(){return s.logging}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return s.setLogLevel}}),Object.defineProperty(t,"setLogger",{enumerable:!0,get:function(){return s.setLogger}}),t.OptimizelyContextConsumer=l,t.OptimizelyContextProvider=d,t.OptimizelyExperiment=T,t.OptimizelyFeature=I,t.OptimizelyProvider=g,t.OptimizelyVariation=N,t.createInstance=function(e){return new E(e)},t.logOnlyEventDispatcher=A,t.withOptimizely=v},"5eb32175a0bcf687b36c":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"5ef9de3df8d92ea0e41c":function(e,t,n){"use strict";var r=n("0efece4c8cb91e128a85"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,f=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=f(n);l&&(a=a.concat(l(n)));for(var s=c(t),b=c(n),_=0;_<a.length;++_){var g=a[_];if(!o[g]&&(!r||!r[g])&&(!b||!b[g])&&(!s||!s[g])){var v=d(n,g);try{u(t,g,v)}catch(e){}}}}return t}},"618b714ab0a420860026":function(e,t){e.exports={handleError:function(e){}}},"6211d59ce7b454f175c8":function(e,t,n){var r=n("d3cb34dd106a2a3ef89f"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},"63f466675e26206f7fb1":function(e,t,n){"use strict";n.r(t),n.d(t,"get",(function(){return o})),n.d(t,"set",(function(){return a})),n.d(t,"setMvtCookie",(function(){return s}));var r=n("c7b40aca13c4330396a9"),i=n.n(r);function o(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift()}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",i=new Date;i.setFullYear(i.getFullYear()+1),document.cookie=encodeURIComponent(e)+"="+r+"; expires="+i.toGMTString()+(t?"; domain="+t:"")+(n?"; path="+n:"")}function s(){var e=o("ckns_mvt");return e||a("ckns_mvt",".bbc.co.uk","/",e=i()()),e}},"641bb0311bdb37373552":function(e,t,n){var r,i,o,a=n("f067ac76b1240cb9aa03"),s=0,c=[],u=a.options.__r,f=a.options.diffed,l=a.options.__c,d=a.options.unmount;function p(e,t){a.options.__h&&a.options.__h(i,e,s||t),s=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function h(e){return s=1,b(I,e)}function b(e,t,n){var o=p(r++,2);return o.__c||(o.__c=i,o.__=[n?n(t):I(void 0,t),function(t){var n=e(o.__[0],t);o.__[0]!==n&&(o.__[0]=n,o.__c.setState({}))}]),o.__}function _(e,t){var n=p(r++,4);!a.options.__s&&m(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function g(e,t){var n=p(r++,7);return m(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function v(){c.some((function(e){if(e.__P)try{e.__H.__h.forEach(y),e.__H.__h.forEach(E),e.__H.__h=[]}catch(t){return e.__H.__h=[],a.options.__e(t,e.__v),!0}})),c=[]}function y(e){e.t&&e.t()}function E(e){var t=e.__();"function"==typeof t&&(e.t=t)}function m(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function I(e,t){return"function"==typeof t?t(e):t}a.options.__r=function(e){u&&u(e),r=0,(i=e.__c).__H&&(i.__H.__h.forEach(y),i.__H.__h.forEach(E),i.__H.__h=[])},a.options.diffed=function(e){f&&f(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==c.push(t)&&o===a.options.requestAnimationFrame||((o=a.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(v))}},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(y),e.__h=e.__h.filter((function(e){return!e.__||E(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(n,e.__v)}})),l&&l(e,t)},a.options.unmount=function(e){d&&d(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){a.options.__e(e,t.__v)}}},t.useState=h,t.useReducer=b,t.useEffect=function(e,t){var n=p(r++,3);!a.options.__s&&m(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))},t.useLayoutEffect=_,t.useRef=function(e){return s=5,g((function(){return{current:e}}),[])},t.useImperativeHandle=function(e,t,n){s=6,_((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},t.useMemo=g,t.useCallback=function(e,t){return s=8,g((function(){return e}),t)},t.useContext=function(e){var t=i.context[e.__c],n=p(r++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__},t.useDebugValue=function(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)},t.useErrorBoundary=function(e){var t=p(r++,10),n=h();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}},"645b82c78363c6c8b9ef":function(e,t,n){var r=n("c161013742249fbd15d0");e.exports=function(e){return r(this,e).has(e)}},"64b04a93b2ad0294c239":function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"65955717fc58c97d7378":function(e,t,n){var r=n("f3b0ff1628e56352bcbf"),i=n("f883c6a0eaee60a48ea0"),o=n("d3a850c4000d77bccc89"),a=n("cef4e105446199aaf71e"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,l=u.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},"662a95466a476544525a":function(e,t,n){(function(e,t){(function(){"use strict";function n(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}var r=setTimeout;function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,r)}else(1===e._state?s:c)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void l((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){c(e,t)}var r,i}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(e){if(n)return;n=!0,c(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new f(e,t,n)),n},o.prototype.finally=n,o.all=function(e){return new o((function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0===--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},o.resolve=function(e){return e&&"object"===typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},o._immediateFn="function"===typeof e&&function(t){e(t)}||function(e){r(e,0)},o._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var d=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype.finally||(d.Promise.prototype.finally=n):d.Promise=o})()}).call(this,n("e9aab379f407c6096333").setImmediate,n("698d75b157f24ae829cc"))},"67042e57ad02a5947bc9":function(e,t,n){var r=n("80e6088e4899523ce7ea"),i=n("83306aed22ee07ce18aa"),o=n("089f6438d068e21c2e37"),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},"681db83bd338a9e5103f":function(e,t,n){var r=n("97e5cba4347c154d950f"),i=n("1c8b809b587260257b6f"),o=n("245ed3688bc2a5950bf8"),a=n("f2ef6f6e544aad97aa22");e.exports=function(e,t){return function(n,s){var c=a(n)?r:i,u=t?t():{};return c(n,e,o(s,2),u)}}},"682dbaa39fed130a9103":function(e,t,n){var r=n("04fddb994f93fcfa2bf7");e.exports={dispatchEvent:function(e,t){var n,r=e.url,o=e.params;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",r,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"===typeof t)try{t(o)}catch(e){}},n.send(JSON.stringify(o))):(r+="?wxhr=true",o&&(r+="&"+i(o)),(n=new XMLHttpRequest).open("GET",r,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"===typeof t)try{t()}catch(e){}},n.send())}};var i=function(e){return r.map(e,(function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&")}},"698d75b157f24ae829cc":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}e.exports=n},"6aa46a501cf705d28dee":function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"6c2acfece98fbb89500a":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("883c01ec557fc8a5e1b1"),a=n("1693f284ebfa2b5bf0bc"),s=n("e86a1dffa60831d5ce49"),c=o.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();c.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(e){}}))},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(r){n.store.remove(e.uuid),t(r)}))},e}();t.PendingEventsDispatcher=u;var f=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(u);t.LocalStoragePendingEventsDispatcher=f},"6d7c0b4b89dbdcc8bc05":function(e,t,n){var r=n("18caba858d9ea0f67284").isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},"6eb6e7baae7d99cd3bf9":function(e,t,n){var r=n("4be2c15021f717a728f0"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},"6f089bc9f5233e557a27":function(e,t,n){var r=n("913c9a6b08bfb314c887"),i=n("6fbb5c3832d9bf525c40");e.exports=function(e,t){return r(e,i(e),t)}},"6fbb5c3832d9bf525c40":function(e,t,n){var r=n("1691913eb1392c1a83b9"),i=n("95959505b617e1839c43"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},"71221445b5fb2229ffea":function(e,t,n){var r=n("4eeb3262288466030436");e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},"72301e3cc725dd502232":function(e,t,n){(function(e){var r=n("18caba858d9ea0f67284"),i=n("bc20db01ebac581e43a6"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,n("f586cf5b9f4b7719b2c1")(e))},"756bf735dba927b3c3c0":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},"76ff0e96c300bf9fad06":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},"7798bfb91dfe96872a60":function(e,t,n){var r=n("df7b55382888b4ee215c"),i=n("04fddb994f93fcfa2bf7"),o=n("971268c5be9618ca3262").sprintf,a=r.LOG_LEVEL,s=r.LOG_MESSAGES;function c(e){this.logger=e.logger,this.errorHandler=e.errorHandler,this.__notificationListeners={},i.forOwn(r.NOTIFICATION_TYPES,function(e){this.__notificationListeners[e]=[]}.bind(this)),this.__listenerId=1}c.prototype.addNotificationListener=function(e,t){try{if(!(i.values(r.NOTIFICATION_TYPES).indexOf(e)>-1))return-1;this.__notificationListeners[e]||(this.__notificationListeners[e]=[]);var n=!1;if(i.forEach(this.__notificationListeners[e],(function(e){if(e.callback===t)return n=!0,!1})),n)return-1;this.__notificationListeners[e].push({id:this.__listenerId,callback:t});var o=this.__listenerId;return this.__listenerId+=1,o}catch(e){return this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e),-1}},c.prototype.removeNotificationListener=function(e){try{var t,n;if(i.forOwn(this.__notificationListeners,(function(r,o){if(i.forEach(r,(function(r,i){if(r.id===e)return t=i,n=o,!1})),void 0!==t&&void 0!==n)return!1})),void 0!==t&&void 0!==n)return this.__notificationListeners[n].splice(t,1),!0}catch(e){this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e)}return!1},c.prototype.clearAllNotificationListeners=function(){try{i.forOwn(r.NOTIFICATION_TYPES,function(e){this.__notificationListeners[e]=[]}.bind(this))}catch(e){this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e)}},c.prototype.clearNotificationListeners=function(e){try{this.__notificationListeners[e]=[]}catch(e){this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e)}},c.prototype.sendNotifications=function(e,t){try{i.forEach(this.__notificationListeners[e],function(n){var r=n.callback;try{r(t)}catch(t){this.logger.log(a.ERROR,o(s.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message))}}.bind(this))}catch(e){this.logger.log(a.ERROR,e.message),this.errorHandler.handleError(e)}},e.exports={createNotificationCenter:function(e){return new c(e)}}},"782ea1fc620fe246f97b":function(e,t,n){var r=n("971268c5be9618ca3262").sprintf,i=n("df7b55382888b4ee215c").ERROR_MESSAGES,o="CONFIG_VALIDATOR",a=n("df7b55382888b4ee215c").DATAFILE_VERSIONS,s=[a.V2,a.V3,a.V4];e.exports={validate:function(e){if(e.errorHandler&&"function"!==typeof e.errorHandler.handleError)throw new Error(r(i.INVALID_ERROR_HANDLER,o));if(e.eventDispatcher&&"function"!==typeof e.eventDispatcher.dispatchEvent)throw new Error(r(i.INVALID_EVENT_DISPATCHER,o));if(e.logger&&"function"!==typeof e.logger.log)throw new Error(r(i.INVALID_LOGGER,o));return!0},validateDatafile:function(e){if(!e)throw new Error(r(i.NO_DATAFILE_SPECIFIED,o));if("string"===typeof e||e instanceof String)try{e=JSON.parse(e)}catch(e){throw new Error(r(i.INVALID_DATAFILE_MALFORMED,o))}if(-1===s.indexOf(e.version))throw new Error(r(i.INVALID_DATAFILE_VERSION,o,e.version));return!0}}},"79d2d347b10807f181e9":function(e,t,n){var r=n("16a2663068191a21c134"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},"7aeba379895dac1dee7e":function(e,t,n){var r=n("90d51c13c6e8468d0322");function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},"7b70b84aafc3be043372":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"7ce1e9c5f11f958320ff":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"7ced408373f942087b50":function(e,t){e.exports=function(e,t){return e.has(t)}},"7e56d82a60dcbc0a4c8d":function(e,t,n){var r=n("104a011c3c0c4bae71c3")(Object.keys,Object);e.exports=r},"80e6088e4899523ce7ea":function(e,t,n){var r=n("18caba858d9ea0f67284").Symbol;e.exports=r},"8184b51c4477ce0a6326":function(e,t,n){var r=n("c161013742249fbd15d0");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},"82c3e6e6e3fe41af700d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case l:case d:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case f:case p:case g:case _:case u:return e;default:return t}}case o:return t}}}function I(e){return m(e)===d}t.typeOf=m,t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=f,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=_,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===c||e===s||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===u||e.$$typeof===f||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===E)},t.isAsyncMode=function(e){return I(e)||m(e)===l},t.isConcurrentMode=I,t.isContextConsumer=function(e){return m(e)===f},t.isContextProvider=function(e){return m(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===p},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===_},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===h}},"83306aed22ee07ce18aa":function(e,t,n){var r=n("80e6088e4899523ce7ea"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},"83aa2fe4775cf7337c0e":function(e,t,n){var r=n("d5d7a5698f8c666b3a30"),i=n("f2ef6f6e544aad97aa22");e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},"84696c4e387dcb8648dc":function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"8471fa3e948e6f8d4661":function(e,t,n){var r=n("d6d252c712bd312d821d"),i=n("b817c1cd32d5e001a440"),o=n("df7b55382888b4ee215c"),a=n("04fddb994f93fcfa2bf7"),s=n("ed435abeaba8ecaa0649"),c=n("e3aa348ea6f439469583"),u=n("971268c5be9618ca3262").sprintf,f="DECISION_SERVICE",l=o.ERROR_MESSAGES,d=o.LOG_LEVEL,p=o.LOG_MESSAGES,h=o.DECISION_SOURCES;function b(e){this.audienceEvaluator=new r(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}b.prototype.getVariation=function(e,t,n,r){var o=this._getBucketingId(n,r);if(!this.__checkIfExperimentIsActive(e,t,n))return null;var a=e.experimentKeyMap[t],s=this.getForcedVariation(e,t,n);if(s)return s;var c=this.__getWhitelistedVariation(a,n);if(c)return c.key;var l=this.__resolveExperimentBucketMap(n,r);if(c=this.__getStoredVariation(e,a,n,l))return this.logger.log(d.INFO,u(p.RETURNING_STORED_VARIATION,f,c.key,t,n)),c.key;if(!this.__checkIfUserIsInAudience(e,t,n,r))return null;var h=this.__buildBucketerParams(e,t,o,n),b=i.bucket(h);return(c=e.variationIdMap[b])?(this.__saveUserProfile(a,c,n,l),c.key):null},b.prototype.__resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.__getUserProfile(e)||{},r=t[o.CONTROL_ATTRIBUTES.STICKY_BUCKETING_KEY];return a.assignIn({},n.experiment_bucket_map,r)},b.prototype.__checkIfExperimentIsActive=function(e,t,n){if(!s.isActive(e,t)){var r=u(p.EXPERIMENT_NOT_RUNNING,f,t);return this.logger.log(d.INFO,r),!1}return!0},b.prototype.__getWhitelistedVariation=function(e,t){if(!a.isEmpty(e.forcedVariations)&&e.forcedVariations.hasOwnProperty(t)){var n=e.forcedVariations[t];if(e.variationKeyMap.hasOwnProperty(n)){var r=u(p.USER_FORCED_IN_VARIATION,f,t,n);return this.logger.log(d.INFO,r),e.variationKeyMap[n]}var i=u(p.FORCED_BUCKETING_FAILED,f,n,t);return this.logger.log(d.ERROR,i),null}return null},b.prototype.__checkIfUserIsInAudience=function(e,t,n,r){var i=s.getExperimentAudienceConditions(e,t),o=s.getAudiencesById(e);this.logger.log(d.DEBUG,u(p.EVALUATING_AUDIENCES_COMBINED,f,t,JSON.stringify(i)));var a=this.audienceEvaluator.evaluate(i,o,r);if(this.logger.log(d.INFO,u(p.AUDIENCE_EVALUATION_RESULT_COMBINED,f,t,a.toString().toUpperCase())),!a){var c=u(p.USER_NOT_IN_EXPERIMENT,f,n,t);return this.logger.log(d.INFO,c),!1}return!0},b.prototype.__buildBucketerParams=function(e,t,n,r){var i={};return i.experimentKey=t,i.experimentId=s.getExperimentId(e,t),i.userId=r,i.trafficAllocationConfig=s.getTrafficAllocation(e,t),i.experimentKeyMap=e.experimentKeyMap,i.groupIdMap=e.groupIdMap,i.variationIdMap=e.variationIdMap,i.logger=this.logger,i.bucketingId=n,i},b.prototype.__getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(d.INFO,u(p.SAVED_VARIATION_NOT_FOUND,f,n,o,t.key))}return null},b.prototype.__getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(d.ERROR,u(l.USER_PROFILE_LOOKUP_ERROR,f,e,t.message))}},b.prototype.__saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{var i=a.cloneDeep(r);i[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:i}),this.logger.log(d.INFO,u(p.SAVED_VARIATION,f,t.key,e.key,n))}catch(e){this.logger.log(d.ERROR,u(l.USER_PROFILE_SAVE_ERROR,f,n,e.message))}},b.prototype.getVariationForFeature=function(e,t,n,r){var i=this._getVariationForFeatureExperiment(e,t,n,r);if(null!==i.variation)return this.logger.log(d.DEBUG,u(p.USER_IN_FEATURE_EXPERIMENT,f,n,i.variation.key,i.experiment.key,t.key)),i;this.logger.log(d.DEBUG,u(p.USER_NOT_IN_FEATURE_EXPERIMENT,f,n,t.key));var o=this._getVariationForRollout(e,t,n,r);return null!==o.variation?(this.logger.log(d.DEBUG,u(p.USER_IN_ROLLOUT,f,n,t.key)),o):(this.logger.log(d.DEBUG,u(p.USER_NOT_IN_ROLLOUT,f,n,t.key)),o)},b.prototype._getVariationForFeatureExperiment=function(e,t,n,r){var i=null,o=null;if(t.hasOwnProperty("groupId")){var a=e.groupIdMap[t.groupId];a&&(i=this._getExperimentInGroup(e,a,n))&&-1!==t.experimentIds.indexOf(i.id)&&(o=this.getVariation(e,i.key,n,r))}else t.experimentIds.length>0?(i=s.getExperimentFromId(e,t.experimentIds[0],this.logger))&&(o=this.getVariation(e,i.key,n,r)):this.logger.log(d.DEBUG,u(p.FEATURE_HAS_NO_EXPERIMENTS,f,t.key));var c=null;return null!==o&&null!==i&&(c=i.variationKeyMap[o]),{experiment:i,variation:c,decisionSource:h.FEATURE_TEST}},b.prototype._getExperimentInGroup=function(e,t,n){var r=i.bucketUserIntoExperiment(t,n,n,this.logger);if(r){this.logger.log(d.INFO,u(p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,f,n,r,t.id));var o=s.getExperimentFromId(e,r,this.logger);if(o)return o}return this.logger.log(d.INFO,u(p.USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP,f,n,t.id)),null},b.prototype._getVariationForRollout=function(e,t,n,r){if(!t.rolloutId)return this.logger.log(d.DEBUG,u(p.NO_ROLLOUT_EXISTS,f,t.key)),{experiment:null,variation:null,decisionSource:h.ROLLOUT};var o=e.rolloutIdMap[t.rolloutId];if(!o)return this.logger.log(d.ERROR,u(l.INVALID_ROLLOUT_ID,f,t.rolloutId,t.key)),{experiment:null,variation:null,decisionSource:h.ROLLOUT};if(0===o.experiments.length)return this.logger.log(d.ERROR,u(p.ROLLOUT_HAS_NO_EXPERIMENTS,f,t.rolloutId)),{experiment:null,variation:null,decisionSource:h.ROLLOUT};var a,s,c,b,_,g=this._getBucketingId(n,r),v=o.experiments.length-1;for(a=0;a<v;a++){if(s=e.experimentKeyMap[o.experiments[a].key],this.__checkIfUserIsInAudience(e,s.key,n,r)){if(this.logger.log(d.DEBUG,u(p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,f,n,a+1)),c=this.__buildBucketerParams(e,s.key,g,n),b=i.bucket(c),_=e.variationIdMap[b])return this.logger.log(d.DEBUG,u(p.USER_BUCKETED_INTO_TARGETING_RULE,f,n,a+1)),{experiment:s,variation:_,decisionSource:h.ROLLOUT};this.logger.log(d.DEBUG,u(p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,f,n,a+1));break}this.logger.log(d.DEBUG,u(p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,f,n,a+1))}var y=e.experimentKeyMap[o.experiments[v].key];if(this.__checkIfUserIsInAudience(e,y.key,n,r)){if(c=this.__buildBucketerParams(e,y.key,g,n),b=i.bucket(c),_=e.variationIdMap[b])return this.logger.log(d.DEBUG,u(p.USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE,f,n)),{experiment:y,variation:_,decisionSource:h.ROLLOUT};this.logger.log(d.DEBUG,u(p.USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE,f,n))}return{experiment:null,variation:null,decisionSource:h.ROLLOUT}},b.prototype._getBucketingId=function(e,t){var n=e;return null!=t&&"object"===typeof t&&t.hasOwnProperty(o.CONTROL_ATTRIBUTES.BUCKETING_ID)&&("string"===typeof t[o.CONTROL_ATTRIBUTES.BUCKETING_ID]?(n=t[o.CONTROL_ATTRIBUTES.BUCKETING_ID],this.logger.log(d.DEBUG,u(p.VALID_BUCKETING_ID,f,n))):this.logger.log(d.WARNING,u(p.BUCKETING_ID_NOT_STRING,f))),n},b.prototype.removeForcedVariation=function(e,t,n){if(!e)throw new Error(u(l.INVALID_USER_ID,f));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(u(l.USER_NOT_IN_FORCED_VARIATION,f,e));delete this.forcedVariationMap[e][t],this.logger.log(d.DEBUG,u(p.VARIATION_REMOVED_FOR_USER,f,n,e))},b.prototype.__setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)?this.forcedVariationMap[e][t]=n:(this.forcedVariationMap[e]={},this.forcedVariationMap[e][t]=n),this.logger.log(d.DEBUG,u(p.USER_MAPPED_TO_FORCED_VARIATION,f,n,t,e))},b.prototype.getForcedVariation=function(e,t,n){var r,i=this.forcedVariationMap[n];if(!i)return this.logger.log(d.DEBUG,u(p.USER_HAS_NO_FORCED_VARIATION,f,n)),null;try{var o=s.getExperimentFromKey(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(d.ERROR,u(l.IMPROPERLY_FORMATTED_EXPERIMENT,f,t)),null;r=o.id}catch(e){return this.logger.log(d.ERROR,e.message),null}var a=i[r];if(!a)return this.logger.log(d.DEBUG,u(p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,f,t,n)),null;var c=s.getVariationKeyFromId(e,a);return c?this.logger.log(d.DEBUG,u(p.USER_HAS_FORCED_VARIATION,f,c,t,n)):this.logger.log(d.DEBUG,u(p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,f,t,n)),c},b.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!c.validate(r))return this.logger.log(d.ERROR,u(l.INVALID_VARIATION_KEY,f)),!1;var i;try{var o=s.getExperimentFromKey(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(d.ERROR,u(l.IMPROPERLY_FORMATTED_EXPERIMENT,f,t)),!1;i=o.id}catch(e){return this.logger.log(d.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,i,t,this.logger),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}var a=s.getVariationIdFromExperimentAndVariationKey(e,t,r);if(!a)return this.logger.log(d.ERROR,u(l.NO_VARIATION_FOR_EXPERIMENT_KEY,f,r,t)),!1;try{return this.__setInForcedVariationMap(n,i,a),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}},e.exports={createDecisionService:function(e){return new b(e)}}},"848061d2617404d8a848":function(e,t,n){var r=n("4be2c15021f717a728f0")(n("18caba858d9ea0f67284"),"Promise");e.exports=r},"8637e970b1e5cbf2ab1c":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("76ff0e96c300bf9fad06")),r(n("b624c59acc79dafa62e5")),r(n("6c2acfece98fbb89500a")),r(n("9b647fb94f2bf6adda87")),r(n("a5bc7aec7a8560815f52"))},"873cbcc7b222a5387fbc":function(e,t,n){var r=n("80e6088e4899523ce7ea"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},"87bbeb8a4fdc6f19481b":function(e,t,n){"use strict";var r,i=n("de852708cd8b65e2068d"),o=n("14f5692c3316a0cb6c7d"),a=n("e96a6c9d049ea42c0dc8"),s=n("5393f737c885af4ba6bc"),c=["IPLAYER","SOUNDS"],u=["tv","radio","rms","e2etest"];function f(e){if(e.status>=200&&e.status<400)return e;var t=new Error("HTTP request failed ".concat(e.statusText));throw t.response=e,t}t.a={friendlyProductNames:{IPLAYER:"iPlayer",SOUNDS:"Sounds"},get:function(){return r},filterSubscriptionDomains:function(e){if(!e.topic)return!1;var t=e.topic.split(":");return!("urn"!==t[0]||"bbc"!==t[1]||!t[2])&&u.includes(t[2])},fetch:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;return!1===t&&r?Promise.resolve(r):i.b().catch((function(e){throw e})).then((function(){return a(e.fetchCorrectDomainEndpoint(s.env.preferencesUrls.getUK,s.env.preferencesUrls.get),{credentials:"include"})})).catch((function(e){throw e})).then((function(t){var i=!1;if((r=t).key)throw new Error(r);return r.preferences||(i=!0,r.preferences={readFilter:"undefined"!==typeof o.a.filter?JSON.stringify(o.a.getCleanArray()):null}),r.preferences.productsEnabled?(r.preferences.productsEnabled=r.preferences.productsEnabled.filter((function(e){return c.includes(e.product)})),r.preferences.productsEnabled.length<c.length&&(r.preferences.productsEnabled=c.map((function(e){var t=r.preferences.productsEnabled.find((function(t){return t.product===e}));return t||{product:e,enabled:!0}})))):r.preferences.productsEnabled=c.map((function(e){return{product:e,enabled:!0}})),r.subscriptions&&(r.subscriptions=r.subscriptions.filter(e.filterSubscriptionDomains)),i&&n&&n(),r}))},getHostname:function(){return window.location.hostname},fetchCorrectDomainEndpoint:function(e,t){return this.getHostname().includes(".com")?t:e},set:function(e){var t=this;if(!r)return!1;var n=Object.assign(r.preferences||{},e.preferences);return r.preferences=n,delete r.preferences.lastRead,delete r.preferences.currentDateTime,i.b().catch((function(e){throw e})).then((function(){return fetch(t.fetchCorrectDomainEndpoint(s.env.preferencesUrls.postPreferenceUK,s.env.preferencesUrls.postPreference),{method:"POST",credentials:"include",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify(r.preferences)})})).then(f).catch((function(e){throw e})).then((function(){return delete r.preferences.onboardingFlag,t.fetch()}))},updateRead:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.set({preferences:{readFilter:"undefined"!==typeof o.a.filter?JSON.stringify(o.a.getCleanArray()):null,lastReadFlag:e}})},sendClick:function(e){var t=this,n={preference:r.preferences,notificationId:e.id,topicUrn:e.topic[0]};return i.b().catch((function(e){throw e})).then((function(){return fetch(t.fetchCorrectDomainEndpoint(s.env.preferencesUrls.postClickUK,s.env.preferencesUrls.postClick),{method:"POST",credentials:"include",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify(n)})})).then(f).catch((function(e){throw e}))},countActiveSubscriptions:function(){var e=0;return r.subscriptions&&r.subscriptions.forEach((function(t){t.enabled&&e++})),e},updateUserOnBoarding:function(e){var t=r.preferences||{};t||(t={lastReadFlag:!0,productsEnabled:[],readFilter:o.a.getCleanArray()},c.forEach((function(e){t.productsEnabled.push({product:e,enabled:!0})}))),t.hasOnboarded=!0,t.onboardingFlag=!0,t.lastReadFlag=!0,this.set(r).then(e).catch((function(t){throw e(void 0,t),t}))}}},"883c01ec557fc8a5e1b1":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("b6963ce77692a23c9f7e")),r(n("a1e2c8860642d35b60b7")),r(n("c4fe9c016b297a84f929"))},"8a06dda852929deeb4f5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("3e9c7e5351d86134f5f6");function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return r.v4()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))}},"8b38e41091cf0d06e57b":function(e,t,n){var r=n("971268c5be9618ca3262").sprintf,i=n("df7b55382888b4ee215c").ERROR_MESSAGES;e.exports={validate:function(e){if("function"!==typeof e.lookup)throw new Error(r(i.INVALID_USER_PROFILE_SERVICE,"USER_PROFILE_SERVICE_VALIDATOR","Missing function 'lookup'"));if("function"!==typeof e.save)throw new Error(r(i.INVALID_USER_PROFILE_SERVICE,"USER_PROFILE_SERVICE_VALIDATOR","Missing function 'save'"));return!0}}},"8bdd4315a9ab62a9788d":function(e,t,n){var r=n("ae5348e2d29eb27f0415"),i=n("3478ed78d76c28060dce");e.exports=function(e,t){return e&&r(e,t,i)}},"8c88185a76bfd7dbafea":function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},"8ec5db7d4a2a84a938d9":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"90d51c13c6e8468d0322":function(e,t,n){var r=n("3af40382701b5b8256b1"),i=n("8184b51c4477ce0a6326"),o=n("bbbbf8c7e9f1b5b601e6"),a=n("645b82c78363c6c8b9ef"),s=n("36648780162654e4ac23");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},"9123cfeafc0d6a263ce1":function(e,t,n){var r=n("0b3ef4ee6405215b82fc"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},"913c9a6b08bfb314c887":function(e,t,n){var r=n("0fc56de7c1b97231ebe1"),i=n("98a0abf0511eb1111afa");e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],f=o?o(n[u],e[u],u,n,e):void 0;void 0===f&&(f=e[u]),a?i(n,u,f):r(n,u,f)}return n}},"937a9da8fad2c0a50a05":function(e,t,n){var r=n("df7b55382888b4ee215c"),i=n("04fddb994f93fcfa2bf7"),o=n("996e4603aa61c97f80d1"),a=n("ed435abeaba8ecaa0649"),s=n("fc559c1db6037f379144"),c="https://logx.optimizely.com/v1/events";function u(e){var t=e.attributes,n=e.configObj,o=n.anonymizeIP,c=n.botFiltering;null!==o&&void 0!==o||(o=!1);var u={snapshots:[],visitor_id:e.userId,attributes:[]},f={account_id:n.accountId,project_id:n.projectId,visitors:[u],revision:n.revision,client_name:e.clientEngine,client_version:e.clientVersion,anonymize_ip:o,enrich_decisions:!0};return i.forOwn(t,(function(n,r){if(s.isAttributeValid(r,n)){var i=a.getAttributeId(e.configObj,r,e.logger);i&&f.visitors[0].attributes.push({entity_id:i,key:r,type:"custom",value:t[r]})}})),"boolean"===typeof c&&f.visitors[0].attributes.push({entity_id:r.CONTROL_ATTRIBUTES.BOT_FILTERING,key:r.CONTROL_ATTRIBUTES.BOT_FILTERING,type:"custom",value:c}),f}e.exports={getImpressionEvent:function(e){var t={httpVerb:"POST"},n=u(e);t.url=c;var r,o,s,f=(r=e.configObj,o=e.experimentId,s=e.variationId,{decisions:[{campaign_id:a.getLayerId(r,o),experiment_id:o,variation_id:s}],events:[{entity_id:a.getLayerId(r,o),timestamp:i.currentTimestamp(),key:"campaign_activated",uuid:i.uuid()}]});return n.visitors[0].snapshots.push(f),t.params=n,t},getConversionEvent:function(e){var t={httpVerb:"POST"},n=u(e);t.url=c;var s=function(e,t,n,s){var c={events:[]},u={entity_id:a.getEventId(e,t),timestamp:i.currentTimestamp(),uuid:i.uuid(),key:t};if(n){var f=o.getRevenueValue(n,s);null!==f&&(u[r.RESERVED_EVENT_KEYWORDS.REVENUE]=f);var l=o.getEventValue(n,s);null!==l&&(u[r.RESERVED_EVENT_KEYWORDS.VALUE]=l),u.tags=n}return c.events.push(u),c}(e.configObj,e.eventKey,e.eventTags,e.logger);return n.visitors[0].snapshots=[s],t.params=n,t}}},"941955270fde8df3ace1":function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},"95959505b617e1839c43":function(e,t){e.exports=function(){return[]}},"971268c5be9618ca3262":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("3e9c7e5351d86134f5f6");function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return r.v4()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))},"97e5cba4347c154d950f":function(e,t){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},"98522820a668af5a1c2f":function(e,t,n){var r=n("bfae026dad300e196930"),i=n("9123cfeafc0d6a263ce1");e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var f=(u=n[a])[0],l=e[f],d=u[1];if(c&&u[2]){if(void 0===l&&!(f in e))return!1}else{var p=new r;if(o)var h=o(l,d,f,e,t,p);if(!(void 0===h?i(d,l,3,o,p):h))return!1}}return!0}},"98a0abf0511eb1111afa":function(e,t,n){var r=n("6eb6e7baae7d99cd3bf9");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"98e5f258a85d7fd22ef8":function(e,t,n){var r=n("b8bc1433202509fac65f"),i=n("e99524bb668f88c6c42e"),o=n("f2ef6f6e544aad97aa22"),a=n("72301e3cc725dd502232"),s=n("f72c7c366a646d5e453e"),c=n("1ef5eae0d45731e89b6f"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),f=!n&&i(e),l=!n&&!f&&a(e),d=!n&&!f&&!l&&c(e),p=n||f||l||d,h=p?r(e.length,String):[],b=h.length;for(var _ in e)!t&&!u.call(e,_)||p&&("length"==_||l&&("offset"==_||"parent"==_)||d&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,b))||h.push(_);return h}},"98f11010eed1f30a67e8":function(e,t,n){var r=n("1691913eb1392c1a83b9"),i=n("9950a90faa130aed0f2f"),o=n("245ed3688bc2a5950bf8"),a=n("f2ef6f6e544aad97aa22");e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},"9950a90faa130aed0f2f":function(e,t,n){var r=n("ebb7be79b6c15709c3d5");e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},"996e4603aa61c97f80d1":function(e,t,n){var r=n("df7b55382888b4ee215c"),i=n("971268c5be9618ca3262").sprintf,o=r.LOG_LEVEL,a=r.LOG_MESSAGES,s=r.RESERVED_EVENT_KEYWORDS.REVENUE,c=r.RESERVED_EVENT_KEYWORDS.VALUE;e.exports={getRevenueValue:function(e,t){if(e&&e.hasOwnProperty(s)){var n=e[s],r=parseInt(n,10);return isNaN(r)?(t.log(o.INFO,i(a.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n)),null):(t.log(o.INFO,i(a.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r)),r)}return null},getEventValue:function(e,t){if(e&&e.hasOwnProperty(c)){var n=e[c],r=parseFloat(n);return isNaN(r)?(t.log(o.INFO,i(a.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n)),null):(t.log(o.INFO,i(a.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r)),r)}return null}}},"9b478f97cd46c0b02cbf":function(e,t,n){var r=n("18caba858d9ea0f67284").Uint8Array;e.exports=r},"9b647fb94f2bf6adda87":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});function i(e){var t=r({},e.tags);delete t.revenue,delete t.value;var n={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(n.tags=e.tags),null!=e.value&&(n.value=e.value),null!=e.revenue&&(n.revenue=e.revenue),{events:[n]}}function o(e){var t=e.layer,n=e.experiment,r=e.variation,i=t?t.id:null;return{decisions:[{campaign_id:i,experiment_id:n?n.id:null,variation_id:r?r.id:null}],events:[{entity_id:i,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function a(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"===typeof e.context.botFiltering&&t.attributes.push({entity_id:"$opt_bot_filtering",key:"$opt_bot_filtering",type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=function(e){var t=[],n=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var n=a(e);"impression"===e.type?n.snapshots.push(o(e)):"conversion"===e.type&&n.snapshots.push(i(e)),t.push(n)}})),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}},t.buildImpressionEventV1=function(e){var t=a(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=a(e);return t.snapshots.push(i(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}}},"9c29dc7850f23c4744c5":function(e,t,n){var r=n("09efa73129bfb7951ff1"),i=n("ecc4278ea99fd360c3c0");e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},"9db4232de083de266b7e":function(e,t,n){var r=n("79d2d347b10807f181e9"),i=n("22387c0eaba857444dfb"),o=n("eedc997fc37971b68c9e"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"9e7388381bfcbc4cb0c3":function(e,t,n){var r=n("43b923cfacc75860e178");e.exports=function(e){return"function"==typeof e?e:r}},"9f430b8562256170e1e0":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},a0063d3cf13048bed80e:function(e,t,n){var r=n("44b7d0c5261c9879c084");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},a0ed748e910ad4d001fc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("883c01ec557fc8a5e1b1").getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else r.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},a1cf5d6fa4ed65a6ddd5:function(e,t,n){var r=n("ab33744f6df37edcb9b2"),i=n("16a2663068191a21c134"),o=n("e99524bb668f88c6c42e"),a=n("f2ef6f6e544aad97aa22"),s=n("c9327538105d995811b8"),c=n("72301e3cc725dd502232"),u=n("47e9e16a3e339321eec5"),f=n("1ef5eae0d45731e89b6f"),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||f(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(l.call(e,n))return!1;return!0}},a1e2c8860642d35b60b7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))},a58ad8823d4789272111:function(e,t){e.exports=function(e){return function(){return e}}},a5bc7aec7a8560815f52:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("b624c59acc79dafa62e5"),a=n("9b647fb94f2bf6adda87"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:a.makeBatchedEventV1(e)}},t}(o.AbstractEventProcessor);t.LogTierV1EventProcessor=s},a607943c6ce671e7106b:function(e,t,n){var r=n("104a011c3c0c4bae71c3")(Object.getPrototypeOf,Object);e.exports=r},a7748d7c475f1fd90265:function(e,t,n){var r=n("e4c91c4fa5f7e2d6b35a"),i=n("2da8456225be17b38fb7")(r);e.exports=i},ab33744f6df37edcb9b2:function(e,t,n){var r=n("47e9e16a3e339321eec5"),i=n("7e56d82a60dcbc0a4c8d"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},ab5d2baa0493dc68d446:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("42fc3dd1e1dd566874a9"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(n("30e27ea3d8e02da48c67")).default);t.default=s},acf4ca991a0973bc409e:function(e,t,n){(function(e){var r=n("18caba858d9ea0f67284"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("f586cf5b9f4b7719b2c1")(e))},ad8470b596eb2ec5826f:function(e,t,n){var r=n("4be2c15021f717a728f0")(n("18caba858d9ea0f67284"),"Set");e.exports=r},ad9f55ad5227816d53aa:function(e,t,n){var r=n("b38e1671cef3d484f410"),i=n("f42a6429a211b8c6d760"),o=n("c7dc9991952f21abcb7d"),a=n("4c2c765baf933e4dff2b"),s=n("71221445b5fb2229ffea");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},adf63554636d9e903756:function(e,t){e.exports=function(e){return this.__data__.has(e)}},ae5348e2d29eb27f0415:function(e,t,n){var r=n("582d5db58646a901463d")();e.exports=r},b00719d067f820b8deb0:function(e,t,n){var r=n("83aa2fe4775cf7337c0e"),i=n("6fbb5c3832d9bf525c40"),o=n("3478ed78d76c28060dce");e.exports=function(e){return r(e,o,i)}},b0c7635870fec56a9af9:function(e,t,n){var r=n("f2ef6f6e544aad97aa22"),i=n("f885c485344554659d42"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},b350551b971d2ccc8812:function(e,t,n){n("662a95466a476544525a");var r=n("883c01ec557fc8a5e1b1"),i=n("04fddb994f93fcfa2bf7"),o=n("782ea1fc620fe246f97b"),a=n("618b714ab0a420860026"),s=n("682dbaa39fed130a9103"),c=n("df7b55382888b4ee215c"),u=n("8637e970b1e5cbf2ab1c"),f=n("3184612d9da4f8324390"),l=n("36f73ad867388d6d2c45"),d=n("ecb23469f3e6290be226"),p=r.getLogger();r.setLogHandler(f.createLogger()),r.setLogLevel(r.LogLevel.INFO);var h=!1;e.exports={logging:f,errorHandler:a,eventDispatcher:s,enums:c,setLogger:r.setLogHandler,setLogLevel:r.setLogLevel,createInstance:function(e){try{(e=e||{}).errorHandler&&r.setErrorHandler(e.errorHandler),e.logger&&(r.setLogHandler(e.logger),r.setLogLevel(r.LogLevel.NOTSET)),void 0!==e.logLevel&&r.setLogLevel(e.logLevel);try{o.validate(e),e.isValidInstance=!0}catch(t){p.error(t),e.isValidInstance=!1}var t;null==e.skipJSONValidation&&(e.skipJSONValidation=!0),null==e.eventDispatcher?(t=new u.LocalStoragePendingEventsDispatcher({eventDispatcher:s}),h||(t.sendPendingEvents(),h=!0)):t=e.eventDispatcher,e=i.assignIn({clientEngine:c.JAVASCRIPT_CLIENT_ENGINE,eventBatchSize:10,eventFlushInterval:1e3},e,{eventDispatcher:t,logger:p,errorHandler:r.getErrorHandler()}),d.validateEventBatchSize(e.eventBatchSize)||(p.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),e.eventBatchSize=10),d.validateEventFlushInterval(e.eventFlushInterval)||(p.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),e.eventFlushInterval=1e3);var n=new l(e);try{if("function"===typeof window.addEventListener){var a="onpagehide"in window?"pagehide":"unload";window.addEventListener(a,(function(){n.close()}),!1)}}catch(e){p.error(c.LOG_MESSAGES.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return n}catch(e){return p.error(e),null}},__internalResetRetryState:function(){h=!1}}},b38e1671cef3d484f410:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},b624c59acc79dafa62e5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("76ff0e96c300bf9fad06"),i=n("a0ed748e910ad4d001fc"),o=n("883c01ec557fc8a5e1b1"),a=n("e86a1dffa60831d5ce49"),s=o.getLogger("EventProcessor"),c=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,o=void 0===n?3e4:n,a=e.maxQueueSize,c=void 0===a?3e3:a,u=e.notificationCenter,f=this;this.dispatcher=t,o<=0&&(s.warn("Invalid flushInterval "+o+", defaulting to 30000"),o=3e4),(c=Math.floor(c))<1&&(s.warn("Invalid maxQueueSize "+c+", defaulting to 10"),c=10),c=Math.max(1,c),this.queue=c>1?new i.DefaultEventQueue({flushInterval:o,maxQueueSize:c,sink:function(e){return f.drainQueue(e)},batchComparator:r.areEventContextsEqual}):new i.SingleEventQueue({sink:function(e){return f.drainQueue(e)}}),this.notificationCenter=u}return e.prototype.drainQueue=function(e){var t=this;return new Promise((function(n){if(s.debug("draining queue with %s events",e.length),0!==e.length){var r=t.formatEvents(e);t.dispatcher.dispatchEvent(r,(function(){n()})),t.notificationCenter&&t.notificationCenter.sendNotifications(a.NOTIFICATION_TYPES.LOG_EVENT,r)}else n()}))},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop()}catch(e){s.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){this.queue.start()},e}();t.AbstractEventProcessor=c},b6963ce77692a23c9f7e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=r;var i=new r;t.setErrorHandler=function(e){i=e},t.getErrorHandler=function(){return i},t.resetErrorHandler=function(){i=new r}},b6d66deb3be454ec4999:function(e,t){e.exports=function(e){return this.__data__.get(e)}},b817c1cd32d5e001a440:function(e,t,n){var r=n("df7b55382888b4ee215c"),i=n("e0764ca8241df4e5c3b8"),o=n("971268c5be9618ca3262").sprintf,a=r.ERROR_MESSAGES,s=r.LOG_LEVEL,c=r.LOG_MESSAGES,u=Math.pow(2,32);e.exports={bucket:function(t){var n=t.experimentKeyMap[t.experimentKey].groupId;if(n){var r=t.groupIdMap[n];if(!r)throw new Error(o(a.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=e.exports.bucketUserIntoExperiment(r,t.bucketingId,t.userId,t.logger);if(null===i){var u=o(c.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,n);return t.logger.log(s.INFO,u),null}if(i!==t.experimentId){var f=o(c.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n);return t.logger.log(s.INFO,f),null}var l=o(c.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n);t.logger.log(s.INFO,l)}}var d=o("%s%s",t.bucketingId,t.experimentId),p=e.exports._generateBucketValue(d),h=o(c.USER_ASSIGNED_TO_VARIATION_BUCKET,"BUCKETER",p,t.userId);t.logger.log(s.DEBUG,h);var b=e.exports._findBucket(p,t.trafficAllocationConfig);if(b){if(!t.variationIdMap.hasOwnProperty(b)){var _=o(c.INVALID_VARIATION_ID,"BUCKETER");return t.logger.log(s.WARNING,_),null}var g=t.variationIdMap[b].key,v=o(c.USER_HAS_VARIATION,"BUCKETER",t.userId,g,t.experimentKey);t.logger.log(s.INFO,v)}else{var y=o(c.USER_HAS_NO_VARIATION,"BUCKETER",t.userId,t.experimentKey);t.logger.log(s.DEBUG,y)}return b},bucketUserIntoExperiment:function(t,n,r,i){var a=o("%s%s",n,t.id),u=e.exports._generateBucketValue(a);i.log(s.DEBUG,o(c.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",u,r));var f=t.trafficAllocation;return e.exports._findBucket(u,f)},_findBucket:function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},_generateBucketValue:function(e){try{var t=i.v3(e,1);return parseInt(1e4*(t/u),10)}catch(t){throw new Error(o(a.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}}}},b8bc1433202509fac65f:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},b96e824c2cbcd9fb72c7:function(e,t,n){"use strict";n.r(t);var r=n("f067ac76b1240cb9aa03"),i=n("53e28e92d1187066acdd"),o=n("5e3cd3d9f80aca029dd7"),a=n("0cf9e3bf58c29c26a188");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=Object(i.lazy)((function(){return n.e(9).then(n.bind(null,"2fad9e66eff5130ad191"))})),u=Object(i.lazy)((function(){return Promise.all([n.e(2),n.e(3)]).then(n.bind(null,"9094d4d611bb0648922e"))})),f=Object(i.lazy)((function(){return n.e(11).then(n.bind(null,"94627f61ac620cdcc05e"))})),l=Object(i.lazy)((function(){return n.e(8).then(n.bind(null,"aadee803b6fabefa22c4"))})),d=Object(i.lazy)((function(){return n.e(13).then(n.bind(null,"c1046c2ae49fd86a3ea1"))})),p=Object(i.lazy)((function(){return n.e(10).then(n.bind(null,"8de59581e9005c2a766a"))})),h=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,"ad66a4ec32844ba4d04d"))})),b=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,"26bf6744ad420fdc4cb9"))})),_=Object(i.lazy)((function(){return n.e(12).then(n.bind(null,"537bcca917649685f927"))})),g=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,"c292a00d35c4a899ee07"))})),v=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,"331f60700b33faa42fbd"))})),y=n("cee82cc6e0aa2ec436fd");t.default=Object(o.withOptimizely)((function(e){var t=s(Object(a.a)(),2),n=t[0],o=t[1],E=n.view,m=n.html,I=n.htmlJs,O=n.notifications,T=n.error,N=n.showU13Success,R=n.subscriptions,A=n.shadowAdded,S=n.scrollProgress,w=e.orbit,P=e.optimizely,U=e.i18n,L=e.basePath;Object(i.useEffect)((function(){o.setOrbit(w),w.refresh(),o.setI18n(U),o.setOptimizely(P)}),[]),Object(i.useEffect)((function(){w.updateDrawerHeight("notifications")}),[O,N]);var x=function(e){e.preventDefault(),y.log("Settings",{STA:"open"}),o.setSettingsView(),o.removeShadowAdded()},C=function(){y.log("Settings",{STA:"close"}),o.setHomeView()},D=function(e){return!e.enabled},j=function(e){var t="header-absolute ";switch(e){case"home":return n.products.every(D)?"":0===R.length?"":O.length?(A&&(t+="shadowAdded fade-in "),t+="transition"):"";default:return""}};return Object(r.h)("div",{class:"drawer"},N&&Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},Object(r.h)(f,{basePath:L})),"home"===E&&!T&&Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},Object(r.h)("div",{id:"paddedHeaderWrapper",class:j(E),style:S?{backgroundColor:"rgba(255, 255, 255, ".concat(S,")"),boxShadow:"0px 4px 6px 0px rgba(0, 0, 0, ".concat(.1*S,")"),borderBottom:"1px solid rgba(215, 218, 221, ".concat(S,")")}:{}},Object(r.h)("div",{class:"notifications__container"},Object(r.h)(g,{onSettingsClick:x,onHomeClick:C,basePath:L,titleStyle:S?{transform:"matrix(".concat(1-.25*S,", 0, 0, ").concat(1-.25*S,", 0, ").concat(-4*S,")")}:{},settingsStyle:S?{transform:"matrix(1, 0, 0, 1, 0, ".concat(-5*S,")")}:{}})))),Object(r.h)("div",{class:function(e){switch(e){case"home":case"settings":return"notifications-main notifications__container notifications-home notifications-home--js notifications-main--css notification-signed-in";default:return""}}(E)},"settings"===E&&T&&Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},Object(r.h)(b,{orbit:w,t:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.t(e,n)}})),"settings"!==E&&T&&Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},Object(r.h)(l,{orbit:w,t:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.t(e,n)}})),("settings"===E||!T)&&!!n.orbit&&Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},function(e){switch(e){case"signin":return Object(r.h)(d,{html:m,htmlJs:I});case"home":return n.products.every(D)?Object(r.h)(v,{basePath:L}):0===R.length?Object(r.h)(h,{basePath:L}):Object(r.h)(u,{basePath:L});case"settings":return Object(r.h)(_,null,Object(r.h)(i.Suspense,{fallback:Object(r.h)("div",null)},Object(r.h)("div",{id:"notPaddedHeaderWrapper",class:j(e)},Object(r.h)("div",{class:"notifications__container"},Object(r.h)(g,{onSettingsClick:x,onHomeClick:C,basePath:L})))));case"onboardingU13":return Object(r.h)(p,null);case"loading":return Object(r.h)(c,{basePath:L});default:return Object(r.h)(l,null)}}(E))))}))},bbbbf8c7e9f1b5b601e6:function(e,t,n){var r=n("c161013742249fbd15d0");e.exports=function(e){return r(this,e).get(e)}},bc20db01ebac581e43a6:function(e,t){e.exports=function(){return!1}},bfae026dad300e196930:function(e,t,n){var r=n("ad9f55ad5227816d53aa"),i=n("46f6e25d4e9dbf2c81f3"),o=n("1ef2dcf0aff52d363efe"),a=n("b6d66deb3be454ec4999"),s=n("7ce1e9c5f11f958320ff"),c=n("5a779e783a8e31d25729");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},c1377f34d08aad8c0b3f:function(e,t,n){var r=n("5a7ccd6273ec77fdeabc");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},c161013742249fbd15d0:function(e,t,n){var r=n("6aa46a501cf705d28dee");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},c1f0d1a99b8185078838:function(e,t,n){var r=n("d3a850c4000d77bccc89"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},c4f90655ae719ce885a6:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,c=1,u={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},d.clearImmediate=p}function p(e){delete u[e]}function h(e){if(f)setTimeout(h,0,e);else{var t=u[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),f=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("698d75b157f24ae829cc"),n("26d59f808dff3e83c741"))},c4fe9c016b297a84f929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("b6963ce77692a23c9f7e"),i=n("8a06dda852929deeb4f5"),o=n("a1e2c8860642d35b60b7"),a={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!==typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),a[e]?a[e]:e)}var c=function(){function e(){this.defaultLoggerFacade=new d,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new d({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),u=function(){function e(e){void 0===e&&(e={}),this.logLevel=o.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(o.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(o.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=o.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case o.LogLevel.DEBUG:return"DEBUG";case o.LogLevel.INFO:return"INFO ";case o.LogLevel.WARNING:return"WARN ";case o.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case o.LogLevel.DEBUG:console.log.apply(console,t);break;case o.LogLevel.INFO:console.info.apply(console,t);break;case o.LogLevel.WARNING:console.warn.apply(console,t);break;case o.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=u;var f=o.LogLevel.NOTSET,l=null,d=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){this.internalLog(s(e),{message:t,splat:[]})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,[e.message].concat(e.splat))},e.prototype.internalLog=function(e,t){l&&(e<f||(l.log(e,this.format(t)),t.error&&t.error instanceof Error&&r.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,n){var r;if(t instanceof Error)return t=(r=t).message,void this.internalLog(e,{error:r,message:t,splat:n});if(0!==n.length){var i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})}else this.internalLog(e,{message:t,splat:n})},e}(),p=new c;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){l=e},t.setLogLevel=function(e){e=s(e),f=i.isValidEnum(o.LogLevel,e)&&void 0!==e?e:o.LogLevel.ERROR},t.getLogLevel=function(){return f},t.resetLogger=function(){p=new c,f=o.LogLevel.NOTSET}},c563599eb9734b6ef1c0:function(e,t,n){var r=n("4be2c15021f717a728f0")(n("18caba858d9ea0f67284"),"DataView");e.exports=r},c6521649b14ae77b88ed:function(e,t,n){var r=n("80e6088e4899523ce7ea"),i=n("9b478f97cd46c0b02cbf"),o=n("941955270fde8df3ace1"),a=n("d3f34489f4f638c7c5ff"),s=n("756bf735dba927b3c3c0"),c=n("e05763c6439659d00349"),u=r?r.prototype:void 0,f=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,l,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var b=d.get(e);if(b)return b==t;r|=2,d.set(e,t);var _=a(p(e),p(t),r,u,l,d);return d.delete(e),_;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},c65eccca28bef6f13a41:function(e,t,n){var r=n("80e6088e4899523ce7ea"),i=n("e0518b4d8d8d1ff354c0"),o=n("f2ef6f6e544aad97aa22"),a=n("f885c485344554659d42"),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},c7b40aca13c4330396a9:function(e,t,n){var r=n("9f430b8562256170e1e0"),i=n("8ec5db7d4a2a84a938d9");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},c7c63798d80f6c943171:function(e,t,n){var r=n("971268c5be9618ca3262").sprintf,i=n("df7b55382888b4ee215c").ERROR_MESSAGES;e.exports={validate:function(e){if("object"!==typeof e||Array.isArray(e)||null===e)throw new Error(r(i.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"));return!0}}},c7dc9991952f21abcb7d:function(e,t,n){var r=n("4eeb3262288466030436");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},c9327538105d995811b8:function(e,t,n){var r=n("f3b0ff1628e56352bcbf"),i=n("84696c4e387dcb8648dc");e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},c93aa643470bbec2d243:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},cc6e3beeba09f932110c:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("87bbeb8a4fdc6f19481b"),i=n("5393f737c885af4ba6bc"),o=n("de852708cd8b65e2068d");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=encodeURIComponent(window.location.href.replace(window.location.hash,""));function u(e){var t,n={html:e.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,(function(e){var n=e.substring(e.indexOf(">")+1);return n=n.slice(0,n.indexOf("</script")),t=n,""}))};return t&&(n.htmlJs=encodeURI(t)),n}function f(e){if(e.ok)return e;var t=new Error("HTTP request failed ".concat(e.statusText));throw t.response=e,t}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,(n=[{key:"isSignedIn",value:function(){return o.a().then((function(e){return e.hasCookie()}))}},{key:"isOnboarded",value:function(){return o.a().then((function(e){var t=e.getUserDetailsFromCookie();return!(!t||"u13"!==t.ab)||r.a.fetch().then((function(e){return null!==e&&"undefined"!==typeof e.preferences.hasOnboarded&&e.preferences.hasOnboarded}))}))}},{key:"setIdctaResponse",value:function(e,t){e.idctaResponse=t,t.policyCheck&&(e.policyIssue=Object.keys(t.policyCheck)[0])}},{key:"load",value:function(){var e=this;return Promise.all([this.isSignedIn(),new Promise((function(e,t){return o.a().then((function(t){var n=t.getUserDetailsFromCookie()||{};if(t.hasCookie()&&"u13"!==n.ab)return e(null);var o=r.a.fetchCorrectDomainEndpoint(i.env.preferencesUrls.idctaUK,i.env.preferencesUrls.idcta);return fetch("".concat(o,"?policy=notification&buttonColour=white&ptrt=").concat(c),{credentials:"include"}).catch((function(e){throw e})).then(f).then((function(e){return e.json()})).then((function(e){if(e.inlineHead){var t=u(e.inlineHead),n=decodeURI(t.htmlJs),r=document.createElement("script");r.type="text/javascript",r.innerHTML=n,document.getElementsByTagName("head")[0].append(r)}if(e.html){var i=u(e.html);e.html=i.html,i.htmlJs&&(e.htmlJs=i.htmlJs)}return e})).then((function(t){return e(t)}))})).catch((function(e){t(e)}))}))]).catch((function(e){throw e})).then((function(t){var n=a(t,2),r=n[0],i=n[1],o={signedIn:r};return i&&e.setIdctaResponse(o,i),r?e.isOnboarded().then((function(e){return o.onboarded=e,o})):o}))}}])&&s(t.prototype,n),l&&s(t,l),e}();t.b=l},ce9cadeda4a5b4a1cf74:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},cee82cc6e0aa2ec436fd:function(e,t){var n=[];e.exports={log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"notifications",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.href,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"event",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"Personalisation",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"rw",u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"Notifications",f={detail:{container:s,label:u,type:c,source:n}};t&&(f.detail.metadata=t),r&&(f.detail.result=r),e&&(f.detail.personalisation={PER:e}),a&&(f.detail.elem=a),o&&(f.detail.originalEvent=o),document.dispatchEvent(new CustomEvent("bbc-user-".concat(i),f))},logClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"notifications",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.href,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;this.log(e,t,n,r,"click",i,o)},serialiseTopic:function(e){var t,n=e.slice(0);return n.forEach((function(e,t,n){n[t]=e.substring(0,e.lastIndexOf(":"))})),t=n.slice(0,5).join("!").replace(/urn:bbc:/g,"").replace(/:/g,"-"),t=n.length>5?t.concat("!more than 5"):t},logNotification:function(e){this.log(e.notification.title,{STA:"blueDot",PRI:(e.priority||"normal").toLowerCase(),TOP:this.serialiseTopic(e.topic)},e.product.toLowerCase(),e.url),n.push(e.id)},logNewNotifications:function(e,t){var r=this;"shown"===t&&e.forEach((function(e){"new"!==e.status||n.includes(e.id)||r.logNotification(e)}))}}},cef4e105446199aaf71e:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},cf2ba28ba35a9c28907c:function(e,t){var n=["and","or","not"];function r(e,t){if(Array.isArray(e)){var i=e[0],o=e.slice(1);switch(-1===n.indexOf(i)&&(i="or",o=e),i){case"and":return function(e,t){for(var n=!1,i=0;i<e.length;i++){var o=r(e[i],t);if(!1===o)return!1;null===o&&(n=!0)}return!n||null}(o,t);case"not":return function(e,t){if(e.length>0){var n=r(e[0],t);return null===n?null:!n}return null}(o,t);default:return function(e,t){for(var n=!1,i=0;i<e.length;i++){var o=r(e[i],t);if(!0===o)return!0;null===o&&(n=!0)}return!!n&&null}(o,t)}}return t(e)}e.exports={evaluate:r}},cf9efc3a52077e29998b:function(e,t,n){var r=n("5eb32175a0bcf687b36c"),i=n("ea6f6f0a40efa2bb0971"),o=n("b0c7635870fec56a9af9"),a=n("22fd2f70e6f18dac8668");e.exports=function(e){return o(e)?r(a(e)):i(e)}},d00fea9284c9a890699e:function(e,t,n){var r=n("913c9a6b08bfb314c887"),i=n("3478ed78d76c28060dce");e.exports=function(e,t){return e&&r(t,i(t),e)}},d3a850c4000d77bccc89:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},d3cb34dd106a2a3ef89f:function(e,t,n){var r=n("7aeba379895dac1dee7e");e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},d3f34489f4f638c7c5ff:function(e,t,n){var r=n("f25b4772974b8669194e"),i=n("11fb57316995a34b733f"),o=n("7ced408373f942087b50");e.exports=function(e,t,n,a,s,c){var u=1&n,f=e.length,l=t.length;if(f!=l&&!(u&&l>f))return!1;var d=c.get(e);if(d&&c.get(t))return d==t;var p=-1,h=!0,b=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<f;){var _=e[p],g=t[p];if(a)var v=u?a(g,_,p,t,e,c):a(_,g,p,e,t,c);if(void 0!==v){if(v)continue;h=!1;break}if(b){if(!i(t,(function(e,t){if(!o(b,t)&&(_===e||s(_,e,n,a,c)))return b.push(t)}))){h=!1;break}}else if(_!==g&&!s(_,g,n,a,c)){h=!1;break}}return c.delete(e),c.delete(t),h}},d5d7a5698f8c666b3a30:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},d6d252c712bd312d821d:function(e,t,n){var r=n("cf2ba28ba35a9c28907c"),i=n("d7b17e4267fdda2ee4ba"),o=n("df7b55382888b4ee215c"),a=n("04fddb994f93fcfa2bf7"),s=n("971268c5be9618ca3262").sprintf,c=n("883c01ec557fc8a5e1b1").getLogger(),u=o.ERROR_MESSAGES,f=o.LOG_LEVEL,l=o.LOG_MESSAGES,d="AUDIENCE_EVALUATOR";function p(e){this.typeToEvaluatorMap=a.assignIn({},e,{custom_attribute:i})}p.prototype.evaluate=function(e,t,n){if(!e||0===e.length)return!0;n||(n={});var i=function(e){var i=t[e];if(i){c.log(f.DEBUG,s(l.EVALUATING_AUDIENCE,d,e,JSON.stringify(i.conditions)));var o=r.evaluate(i.conditions,this.evaluateConditionWithUserAttributes.bind(this,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return c.log(f.INFO,s(l.AUDIENCE_EVALUATION_RESULT,d,e,a)),o}return null}.bind(this);return r.evaluate(e,i)||!1},p.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return c.log(f.WARNING,s(l.UNKNOWN_CONDITION_TYPE,d,JSON.stringify(t))),null;try{return n.evaluate(t,e,c)}catch(e){c.log(f.ERROR,s(u.CONDITION_EVALUATOR_ERROR,d,t.type,e.message))}return null},e.exports=p},d7b17e4267fdda2ee4ba:function(e,t,n){var r=n("04fddb994f93fcfa2bf7"),i=n("df7b55382888b4ee215c"),o=n("971268c5be9618ca3262").sprintf,a=i.LOG_LEVEL,s=i.LOG_MESSAGES,c="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",u=["exact","exists","gt","lt","substring"],f={};function l(e){return"string"===typeof e||"boolean"===typeof e||r.isNumber(e)}function d(e,t,n){var i=e.value,u=typeof i,f=e.name,d=t[f],p=typeof d;return!l(i)||r.isNumber(i)&&!r.isFinite(i)?(n.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,c,JSON.stringify(e))),null):null===d?(n.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,c,JSON.stringify(e),f)),null):l(d)&&u===p?r.isNumber(d)&&!r.isFinite(d)?(n.log(a.WARNING,o(s.OUT_OF_BOUNDS,c,JSON.stringify(e),f)),null):i===d:(n.log(a.WARNING,o(s.UNEXPECTED_TYPE,c,JSON.stringify(e),p,f)),null)}f.exact=d,f.exists=function(e,t){var n=t[e.name];return"undefined"!==typeof n&&null!==n},f.gt=function(e,t,n){var i=e.name,u=t[i],f=typeof u,l=e.value;if(!r.isFinite(l))return n.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,c,JSON.stringify(e))),null;if(null===u)return n.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,c,JSON.stringify(e),i)),null;if(!r.isNumber(u))return n.log(a.WARNING,o(s.UNEXPECTED_TYPE,c,JSON.stringify(e),f,i)),null;if(!r.isFinite(u))return n.log(a.WARNING,o(s.OUT_OF_BOUNDS,c,JSON.stringify(e),i)),null;return u>l},f.lt=function(e,t,n){var i=e.name,u=t[e.name],f=typeof u,l=e.value;if(!r.isFinite(l))return n.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,c,JSON.stringify(e))),null;if(null===u)return n.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,c,JSON.stringify(e),i)),null;if(!r.isNumber(u))return n.log(a.WARNING,o(s.UNEXPECTED_TYPE,c,JSON.stringify(e),f,i)),null;if(!r.isFinite(u))return n.log(a.WARNING,o(s.OUT_OF_BOUNDS,c,JSON.stringify(e),i)),null;return u<l},f.substring=function(e,t,n){var r=e.name,i=t[e.name],u=typeof i,f=e.value;if("string"!==typeof f)return n.log(a.WARNING,o(s.UNEXPECTED_CONDITION_VALUE,c,JSON.stringify(e))),null;if(null===i)return n.log(a.DEBUG,o(s.UNEXPECTED_TYPE_NULL,c,JSON.stringify(e),r)),null;if("string"!==typeof i)return n.log(a.WARNING,o(s.UNEXPECTED_TYPE,c,JSON.stringify(e),u,r)),null;return-1!==i.indexOf(f)},e.exports={evaluate:function(e,t,n){var r=e.match;if("undefined"!==typeof r&&-1===u.indexOf(r))return n.log(a.WARNING,o(s.UNKNOWN_MATCH_TYPE,c,JSON.stringify(e))),null;var i=e.name;return t.hasOwnProperty(i)||"exists"==r?(f[r]||d)(e,t,n):(n.log(a.DEBUG,o(s.MISSING_ATTRIBUTE_VALUE,c,JSON.stringify(e),i)),null)}}},d8649c0763a95c2c417b:function(e,t,n){var r=n("5a7ccd6273ec77fdeabc");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},da61b68c7d18bea7cc07:function(e,t,n){var r=n("d3a850c4000d77bccc89"),i=n("47e9e16a3e339321eec5"),o=n("2aa98307c403e6f46ef6"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},dba25a6f599687a5b44e:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},dbdd6f27fc30af33bb47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){},i=function(){function e(e){this.datafile=e,this.readyPromise=Promise.resolve()}return e.prototype.get=function(){return this.datafile},e.prototype.onReady=function(){return this.readyPromise},e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.on=function(e,t){return r},e}();t.default=i},dd40a7486aa1dad6adf1:function(e,t,n){var r=n("98a0abf0511eb1111afa"),i=n("681db83bd338a9e5103f")((function(e,t,n){r(e,n,t)}));e.exports=i},de852708cd8b65e2068d:function(e,t,n){"use strict";var r;function i(){return new Promise((function(e){r?e(r):window.require(["idcta/idcta-1"],(function(t){e(r=t)}))}))}function o(){return new Promise((function(e,t){window.require(["idcta/idcta-1"],(function(n){n.initiateTokenRefresh(void 0,void 0,!0).then((function(t){e(t)})).catch((function(e){t(e)}))}))}))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},df01904f40a18379887c:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},df7b55382888b4ee215c:function(e,t,n){var r=n("971268c5be9618ca3262");t.LOG_LEVEL={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},t.ERROR_MESSAGES={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_KEY:"%s: Event key %s is not in datafile.",INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",JSON_SCHEMA_EXPECTED:"%s: JSON schema expected.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},t.LOG_MESSAGES={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is in "Launched" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",USER_ASSIGNED_TO_VARIATION_BUCKET:"%s: Assigned variation bucket %s to user %s.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned experiment bucket %s to user %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning default value for variable "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Value for variable "%s" of feature flag "%s" is %s for user "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for experiment "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for experiment %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},t.RESERVED_EVENT_KEYWORDS={REVENUE:"revenue",VALUE:"value"},t.CONTROL_ATTRIBUTES={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},t.JAVASCRIPT_CLIENT_ENGINE="javascript-sdk",t.NODE_CLIENT_ENGINE="node-sdk",t.REACT_CLIENT_ENGINE="react-sdk",t.NODE_CLIENT_VERSION="3.3.2",t.VALID_CLIENT_ENGINES=[t.NODE_CLIENT_ENGINE,t.REACT_CLIENT_ENGINE,t.JAVASCRIPT_CLIENT_ENGINE],t.NOTIFICATION_TYPES=r.NOTIFICATION_TYPES,t.DECISION_NOTIFICATION_TYPES={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable"},t.DECISION_SOURCES={FEATURE_TEST:"feature-test",ROLLOUT:"rollout"},t.FEATURE_VARIABLE_TYPES={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"},t.DATAFILE_VERSIONS={V2:"2",V3:"3",V4:"4"}},e0518b4d8d8d1ff354c0:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},e05763c6439659d00349:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},e0764ca8241df4e5c3b8:function(e,t,n){!function(){function t(e,t){var n,r,i,o,a,s,c,u;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},e1b60d05ebeced492135:function(e,t,n){e.exports=n.p+"/css/onboarding.min.css"},e3aa348ea6f439469583:function(e,t){e.exports={validate:function(e){return"string"===typeof e&&""!==e}}},e4c91c4fa5f7e2d6b35a:function(e,t,n){var r=n("a58ad8823d4789272111"),i=n("6eb6e7baae7d99cd3bf9"),o=n("43b923cfacc75860e178"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},e86a1dffa60831d5ce49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("3e9c7e5351d86134f5f6");function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return r.v4()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))},e96a6c9d049ea42c0dc8:function(e,t){function n(e){if(!e)return null;if(function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(e))return JSON.parse(e);var t=e;return t=(t=t.substring(t.indexOf("(")+1)).substring(0,t.length-1),JSON.parse(t)}function r(e){if(e.status>=200&&e.status<500)return e;var t=new Error("HTTP request failed ".concat(e.statusText));throw t.response=e,t}e.exports=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="bbc-notifications-".concat(e);return i&&sessionStorage.getItem(o)?new Promise((function(e){e(JSON.parse(sessionStorage.getItem(o)))})):fetch(e,t).then(r).then((function(e){return 404===e.status?null:e.text()})).then((function(e){var t=n(e);return i&&t&&sessionStorage.setItem(o,JSON.stringify(t)),t})).catch((function(e){throw e}))}},e99524bb668f88c6c42e:function(e,t,n){var r=n("33e73011281ee8023d77"),i=n("4b93c5a7bb60dd6ab0f4"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},e9aab379f407c6096333:function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("c4f90655ae719ce885a6"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("698d75b157f24ae829cc"))},ea6f6f0a40efa2bb0971:function(e,t,n){var r=n("f819b29f4efbf857daed");e.exports=function(e){return function(t){return r(t,e)}}},ebb7be79b6c15709c3d5:function(e,t,n){var r=n("8bdd4315a9ab62a9788d"),i=n("267a5cf0ab3c1047295f")(r);e.exports=i},ecb23469f3e6290be226:function(e,t,n){var r=n("04fddb994f93fcfa2bf7");e.exports={validateEventBatchSize:function(e){return r.isFinite(e)&&e>=1},validateEventFlushInterval:function(e){return r.isFinite(e)&&e>0}}},ecc4278ea99fd360c3c0:function(e,t,n){var r=n("941955270fde8df3ace1"),i=n("c9327538105d995811b8"),o=n("f72c7c366a646d5e453e"),a=n("d3a850c4000d77bccc89");e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},ed435abeaba8ecaa0649:function(e,t,n){var r=n("04fddb994f93fcfa2bf7"),i=n("df7b55382888b4ee215c"),o=n("971268c5be9618ca3262").sprintf,a=n("782ea1fc620fe246f97b"),s=n("00388ddacef4532261aa"),c="PROJECT_CONFIG",u=i.ERROR_MESSAGES,f=i.LOG_MESSAGES,l=i.LOG_LEVEL,d=i.FEATURE_VARIABLE_TYPES;e.exports={createProjectConfig:function(e){var t,n=r.cloneDeep(e);return r.forEach(n.audiences,(function(e){e.conditions=JSON.parse(e.conditions)})),n.audiencesById=r.keyBy(n.audiences,"id"),r.assign(n.audiencesById,r.keyBy(n.typedAudiences,"id")),n.attributeKeyMap=r.keyBy(n.attributes,"key"),n.eventKeyMap=r.keyBy(n.events,"key"),n.groupIdMap=r.keyBy(n.groups,"id"),r.forEach(n.groupIdMap,(function(e,i){t=r.cloneDeep(e.experiments),r.forEach(t,(function(e){n.experiments.push(r.assignIn(e,{groupId:i}))}))})),n.rolloutIdMap=r.keyBy(n.rollouts||[],"id"),r.forOwn(n.rolloutIdMap,(function(e){r.forEach(e.experiments||[],(function(e){n.experiments.push(r.cloneDeep(e)),e.variationKeyMap=r.keyBy(e.variations,"key")}))})),n.experimentKeyMap=r.keyBy(n.experiments,"key"),n.experimentIdMap=r.keyBy(n.experiments,"id"),n.variationIdMap={},n.variationVariableUsageMap={},r.forEach(n.experiments,(function(e){e.variationKeyMap=r.keyBy(e.variations,"key"),r.assignIn(n.variationIdMap,r.keyBy(e.variations,"id")),r.forOwn(e.variationKeyMap,(function(e){e.variables&&(n.variationVariableUsageMap[e.id]=r.keyBy(e.variables,"id"))}))})),n.experimentFeatureMap={},n.featureKeyMap=r.keyBy(n.featureFlags||[],"key"),r.forOwn(n.featureKeyMap,(function(e){e.variableKeyMap=r.keyBy(e.variables,"key"),r.forEach(e.experimentIds||[],(function(t){n.experimentFeatureMap[t]?n.experimentFeatureMap[t].push(e.id):n.experimentFeatureMap[t]=[e.id];var r=n.experimentIdMap[t];if(r.groupId)return e.groupId=r.groupId,!1}))})),n},getExperimentId:function(e,t){var n=e.experimentKeyMap[t];if(r.isEmpty(n))throw new Error(o(u.INVALID_EXPERIMENT_KEY,c,t));return n.id},getLayerId:function(e,t){var n=e.experimentIdMap[t];if(r.isEmpty(n))throw new Error(o(u.INVALID_EXPERIMENT_ID,c,t));return n.layerId},getAttributeId:function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(l.WARN,o("Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_")),r.id):i?t:(n.log(l.DEBUG,o(u.UNRECOGNIZED_ATTRIBUTE,c,t)),null)},getEventId:function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},getExperimentStatus:function(e,t){var n=e.experimentKeyMap[t];if(r.isEmpty(n))throw new Error(o(u.INVALID_EXPERIMENT_KEY,c,t));return n.status},isActive:function(t,n){return"Running"===e.exports.getExperimentStatus(t,n)||"Launched"===e.exports.getExperimentStatus(t,n)},isRunning:function(t,n){return"Running"===e.exports.getExperimentStatus(t,n)},getExperimentAudienceConditions:function(e,t){var n=e.experimentKeyMap[t];if(r.isEmpty(n))throw new Error(o(u.INVALID_EXPERIMENT_KEY,c,t));return n.audienceConditions||n.audienceIds},getVariationKeyFromId:function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},getVariationIdFromExperimentAndVariationKey:function(e,t,n){var r=e.experimentKeyMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null},getExperimentFromKey:function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw new Error(o(u.EXPERIMENT_KEY_NOT_IN_DATAFILE,c,t))},getTrafficAllocation:function(e,t){var n=e.experimentKeyMap[t];if(r.isEmpty(n))throw new Error(o(u.INVALID_EXPERIMENT_KEY,c,t));return n.trafficAllocation},getExperimentFromId:function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(l.ERROR,o(u.INVALID_EXPERIMENT_ID,c,t)),null},getFeatureFromKey:function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(l.ERROR,o(u.FEATURE_NOT_IN_DATAFILE,c,t)),null},getVariableForFeature:function(e,t,n,r){var i=e.featureKeyMap[t];if(!i)return r.log(l.ERROR,o(u.FEATURE_NOT_IN_DATAFILE,c,t)),null;var a=i.variableKeyMap[n];return a||(r.log(l.ERROR,o(u.VARIABLE_KEY_NOT_IN_DATAFILE,c,n,t)),null)},getVariableValueForVariation:function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(l.ERROR,o(u.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,c,n.id)),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null},getTypeCastValue:function(e,t,n){var r;switch(t){case d.BOOLEAN:"true"!==e&&"false"!==e?(n.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,c,e,t)),r=null):r="true"===e;break;case d.INTEGER:r=parseInt(e,10),isNaN(r)&&(n.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,c,e,t)),r=null);break;case d.DOUBLE:r=parseFloat(e),isNaN(r)&&(n.log(l.ERROR,o(u.UNABLE_TO_CAST_VALUE,c,e,t)),r=null);break;default:r=e}return r},getAudiencesById:function(e){return e.audiencesById},eventWithKeyExists:function(e,t){return e.eventKeyMap.hasOwnProperty(t)},isFeatureExperiment:function(e,t){return e.experimentFeatureMap.hasOwnProperty(t)},tryCreatingProjectConfig:function(t){return a.validateDatafile(t.datafile),!0===t.skipJSONValidation?t.logger.log(l.INFO,o(f.SKIPPING_JSON_VALIDATION,c)):t.jsonSchemaValidator&&(t.jsonSchemaValidator.validate(s,t.datafile),t.logger.log(l.INFO,o(f.VALID_DATAFILE,c))),e.exports.createProjectConfig(t.datafile)}}},ed708af38699b796fa10:function(e,t,n){var r=n("83aa2fe4775cf7337c0e"),i=n("4bfef6fdc48d634b8771"),o=n("f9a21f1b550208419753");e.exports=function(e){return r(e,o,i)}},eedc997fc37971b68c9e:function(e,t,n){(function(e){var r=n("5de5c65c2c431f821291"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n("f586cf5b9f4b7719b2c1")(e))},ef86c82e2fb9c58af3c0:function(e,t,n){var r=n("d3a850c4000d77bccc89");e.exports=function(e){return e===e&&!r(e)}},f0200b4beabe56dc845a:function(e,t,n){var r=n("4be2c15021f717a728f0")(n("18caba858d9ea0f67284"),"Map");e.exports=r},f067ac76b1240cb9aa03:function(e,t){var n,r,i,o,a,s,c,u,f={},l=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n){var r,i=arguments,o={};for(r in t)"key"!==r&&"ref"!==r&&(o[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(o.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return _(e,o,t&&t.key,t&&t.ref,null)}function _(e,t,r,i,o){var a={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(a.__v=a),n.vnode&&n.vnode(a),a}function g(e){return e.children}function v(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function m(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!o++||s!==n.debounceRendering)&&((s=n.debounceRendering)||a)(I)}function I(){for(var e;o=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,i,o,a,s;e.__d&&(a=(o=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=p({},o)).__v=r,i=S(s,o,r,t.__n,void 0!==s.ownerSVGElement,null,n,null==a?y(o):a),w(n,o),i!=a&&E(o)))}))}function O(e,t,n,r,i,o,a,s,c){var u,d,p,b,_,g,v,E=n&&n.__k||l,m=E.length;if(s==f&&(s=null!=o?o[0]:m?y(n,0):null),u=0,t.__k=T(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=E[u])||p&&n.key==p.key&&n.type===p.type)E[u]=void 0;else for(d=0;d<m;d++){if((p=E[d])&&n.key==p.key&&n.type===p.type){E[d]=void 0;break}p=null}if(b=S(e,n,p=p||f,r,i,o,a,s,c),(d=n.ref)&&p.ref!=d&&(v||(v=[]),p.ref&&v.push(p.ref,null,n),v.push(d,n.__c||b,n)),null!=b){var l;if(null==g&&(g=b),void 0!==n.__d)l=n.__d,n.__d=void 0;else if(o==p||b!=s||null==b.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(b),l=null;else{for(_=s,d=0;(_=_.nextSibling)&&d<m;d+=2)if(_==b)break e;e.insertBefore(b,s),l=s}"option"==t.type&&(e.value="")}s=void 0!==l?l:b.nextSibling,"function"==typeof t.type&&(t.__d=s)}else s&&p.__e==s&&s.parentNode!=e&&(s=y(p))}return u++,n})),t.__e=g,null!=o&&"function"!=typeof t.type)for(u=o.length;u--;)null!=o[u]&&h(o[u]);for(u=m;u--;)null!=E[u]&&L(E[u],E[u]);if(v)for(u=0;u<v.length;u++)U(v[u],v[++u],v[++u])}function T(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)T(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?_(null,e,null,null,e):null!=e.__e||null!=e.__c?_(e.type,e.props,e.key,null,e.__v):e):e);return n}function N(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function R(e,t,n,r,i){var o,a,s,c,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(c in r)n&&c in n||N(o,c,"");if(n)for(u in n)r&&n[u]===r[u]||N(o,u,n[u])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(r||e.addEventListener(t,A,a),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,A,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function A(e){this.l[e.type](n.event?n.event(e):e)}function S(e,t,r,i,o,a,s,c,u){var f,l,d,h,b,_,y,E,m,I,T=t.type;if(void 0!==t.constructor)return null;(f=n.__b)&&f(t);try{e:if("function"==typeof T){if(E=t.props,m=(f=T.contextType)&&i[f.__c],I=f?m?m.props.value:f.__:i,r.__c?y=(l=t.__c=r.__c).__=l.__E:("prototype"in T&&T.prototype.render?t.__c=l=new T(E,I):(t.__c=l=new v(E,I),l.constructor=T,l.render=x),m&&m.sub(l),l.props=E,l.state||(l.state={}),l.context=I,l.__n=i,d=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=T.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=p({},l.__s)),p(l.__s,T.getDerivedStateFromProps(E,l.__s))),h=l.props,b=l.state,d)null==T.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==T.getDerivedStateFromProps&&E!==h&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(E,I),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(E,l.__s,I)||t.__v===r.__v&&!l.__){for(l.props=E,l.state=l.__s,t.__v!==r.__v&&(l.__d=!1),l.__v=t,t.__e=r.__e,t.__k=r.__k,l.__h.length&&s.push(l),f=0;f<t.__k.length;f++)t.__k[f]&&(t.__k[f].__=t);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(E,l.__s,I),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(h,b,_)}))}l.context=I,l.props=E,l.state=l.__s,(f=n.__r)&&f(t),l.__d=!1,l.__v=t,l.__P=e,f=l.render(l.props,l.state,l.context),t.__k=null!=f&&f.type==g&&null==f.key?f.props.children:Array.isArray(f)?f:[f],null!=l.getChildContext&&(i=p(p({},i),l.getChildContext())),d||null==l.getSnapshotBeforeUpdate||(_=l.getSnapshotBeforeUpdate(h,b)),O(e,t,r,i,o,a,s,c,u),l.base=t.__e,l.__h.length&&s.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=P(r.__e,t,r,i,o,a,s,u);(f=n.diffed)&&f(t)}catch(e){t.__v=null,n.__e(e,t,r)}return t.__e}function w(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function P(e,t,n,r,i,o,a,s){var c,u,d,p,h,b=n.props,_=t.props;if(i="svg"===t.type||i,null!=o)for(c=0;c<o.length;c++)if(null!=(u=o[c])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,o[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(_);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,_.is&&{is:_.is}),o=null,s=!1}if(null===t.type)b!==_&&e.data!=_&&(e.data=_);else{if(null!=o&&(o=l.slice.call(e.childNodes)),d=(b=n.props||f).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!s){if(b===f)for(b={},h=0;h<e.attributes.length;h++)b[e.attributes[h].name]=e.attributes[h].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||R(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||R(e,o,t[o],n[o],r)})(e,_,b,i,s),p?t.__k=[]:(t.__k=t.props.children,O(e,t,n,r,"foreignObject"!==t.type&&i,o,a,f,s)),s||("value"in _&&void 0!==(c=_.value)&&c!==e.value&&R(e,"value",c,b.value,!1),"checked"in _&&void 0!==(c=_.checked)&&c!==e.checked&&R(e,"checked",c,b.checked,!1))}return e}function U(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function L(e,t,r){var i,o,a;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||U(i,null,t)),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&L(i[a],t,r);null!=o&&h(o)}function x(e,t,n){return this.constructor(e,n)}function C(e,t,r){var i,o,a;n.__&&n.__(e,t),o=(i=r===c)?null:r&&r.__k||t.__k,e=b(g,null,[e]),a=[],S(t,(i?t:r||t).__k=e,o||f,f,void 0!==t.ownerSVGElement,r&&!i?[r]:o?null:l.slice.call(t.childNodes),a,r||f,i),w(a,e)}n={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return m(n.__E=n)}catch(t){e=t}throw e}},r=function(e){return null!=e&&void 0===e.constructor},v.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),m(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},v.prototype.render=g,i=[],o=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=f,u=0,t.render=C,t.hydrate=function(e,t){C(e,t,c)},t.createElement=b,t.h=b,t.Fragment=g,t.createRef=function(){return{}},t.isValidElement=r,t.Component=v,t.cloneElement=function(e,t){var n,r;for(r in t=p(p({},e.props),t),arguments.length>2&&(t.children=l.slice.call(arguments,2)),n={},t)"key"!==r&&"ref"!==r&&(n[r]=t[r]);return _(e.type,n,t.key||e.key,t.ref||e.ref,null)},t.createContext=function(e){var t={},n={__c:"__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&r.some((function(t){t.context=e.value,m(t)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n},t.toChildArray=T,t._e=L,t.options=n},f14de80411f54272a77c:function(e,t,n){var r=n("bfae026dad300e196930"),i=n("7b70b84aafc3be043372"),o=n("0fc56de7c1b97231ebe1"),a=n("d00fea9284c9a890699e"),s=n("f4652ce1ddc93da09269"),c=n("acf4ca991a0973bc409e"),u=n("31bb4f2f1a4f1df15bdf"),f=n("6f089bc9f5233e557a27"),l=n("43e9e529a54d89a08995"),d=n("b00719d067f820b8deb0"),p=n("ed708af38699b796fa10"),h=n("16a2663068191a21c134"),b=n("c93aa643470bbec2d243"),_=n("1bd3db6dd06f60a85824"),g=n("40b4dc0133c73e835b3f"),v=n("f2ef6f6e544aad97aa22"),y=n("72301e3cc725dd502232"),E=n("330dfc1a2ab8bc2e1ccf"),m=n("d3a850c4000d77bccc89"),I=n("9db4232de083de266b7e"),O=n("3478ed78d76c28060dce"),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,N,R,A,S){var w,P=1&n,U=2&n,L=4&n;if(N&&(w=A?N(t,R,A,S):N(t)),void 0!==w)return w;if(!m(t))return t;var x=v(t);if(x){if(w=b(t),!P)return u(t,w)}else{var C=h(t),D="[object Function]"==C||"[object GeneratorFunction]"==C;if(y(t))return c(t,P);if("[object Object]"==C||"[object Arguments]"==C||D&&!A){if(w=U||D?{}:g(t),!P)return U?l(t,s(w,t)):f(t,a(w,t))}else{if(!T[C])return A?t:{};w=_(t,C,P)}}S||(S=new r);var j=S.get(t);if(j)return j;S.set(t,w),I(t)?t.forEach((function(r){w.add(e(r,n,N,r,t,S))})):E(t)&&t.forEach((function(r,i){w.set(i,e(r,n,N,i,t,S))}));var k=L?U?p:d:U?keysIn:O,V=x?void 0:k(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(w,i,e(r,n,N,i,t,S))})),w}},f25b4772974b8669194e:function(e,t,n){var r=n("90d51c13c6e8468d0322"),i=n("df01904f40a18379887c"),o=n("adf63554636d9e903756");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},f2ef6f6e544aad97aa22:function(e,t){var n=Array.isArray;e.exports=n},f31ae9cef8c5e366ba54:function(e,t,n){var r=n("ef86c82e2fb9c58af3c0"),i=n("3478ed78d76c28060dce");e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},f3b0ff1628e56352bcbf:function(e,t,n){var r=n("67042e57ad02a5947bc9"),i=n("d3a850c4000d77bccc89");e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},f42a6429a211b8c6d760:function(e,t,n){var r=n("4eeb3262288466030436"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},f4652ce1ddc93da09269:function(e,t,n){var r=n("913c9a6b08bfb314c887"),i=n("f9a21f1b550208419753");e.exports=function(e,t){return e&&r(t,i(t),e)}},f586cf5b9f4b7719b2c1:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},f72c7c366a646d5e453e:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},f80049d42c5cb20e7a0a:function(e,t,n){var r=n("16a2663068191a21c134"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},f819b29f4efbf857daed:function(e,t,n){var r=n("f8446e843ad1613417d0"),i=n("22fd2f70e6f18dac8668");e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},f8446e843ad1613417d0:function(e,t,n){var r=n("f2ef6f6e544aad97aa22"),i=n("b0c7635870fec56a9af9"),o=n("6211d59ce7b454f175c8"),a=n("18258512433285401c87");e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},f883c6a0eaee60a48ea0:function(e,t,n){var r,i=n("191adceeffad46f4bba8"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},f885c485344554659d42:function(e,t,n){var r=n("67042e57ad02a5947bc9"),i=n("4b93c5a7bb60dd6ab0f4");e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},f9a21f1b550208419753:function(e,t,n){var r=n("98e5f258a85d7fd22ef8"),i=n("da61b68c7d18bea7cc07"),o=n("c9327538105d995811b8");e.exports=function(e){return o(e)?r(e,!0):i(e)}},fbc36b60f8b4242470ae:function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jsonPath(obj,expr,arg){var P={resultType:arg&&arg.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']/g,(function(e,n){return"[#"+(t.push(n)-1)+"]"})).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,(function(e,n){return t[n]}))},asPath:function(e){for(var t=e.split(";"),n="$",r=1,i=t.length;r<i;r++)n+=/^[0-9*]+$/.test(t[r])?"["+t[r]+"]":"['"+t[r]+"']";return n},store:function(e,t){return e&&(P.result[P.result.length]="PATH"==P.resultType?P.asPath(e):t),!!e},trace:function(e,t,n){if(e){var r=e.split(";"),i=r.shift();if(r=r.join(";"),t&&t.hasOwnProperty(i))P.trace(r,t[i],n+";"+i);else if("*"===i)P.walk(i,r,t,n,(function(e,t,n,r,i){P.trace(e+";"+n,r,i)}));else if(".."===i)P.trace(r,t,n),P.walk(i,r,t,n,(function(e,t,n,r,i){"object"===_typeof(r[e])&&P.trace("..;"+n,r[e],i+";"+e)}));else if(/,/.test(i))for(var o=i.split(/'?,'?/),a=0,s=o.length;a<s;a++)P.trace(o[a]+";"+r,t,n);else/^\(.*?\)$/.test(i)?P.trace(P.eval(i,t,n.substr(n.lastIndexOf(";")+1))+";"+r,t,n):/^\?\(.*?\)$/.test(i)?P.walk(i,r,t,n,(function(e,t,n,r,i){P.eval(t.replace(/^\?\((.*?)\)$/,"$1"),r[e],e)&&P.trace(e+";"+n,r,i)})):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(i)&&P.slice(i,r,t,n)}else P.store(n,t)},walk:function(e,t,n,r,i){if(n instanceof Array)for(var o=0,a=n.length;o<a;o++)o in n&&i(o,e,t,n,r);else if("object"===_typeof(n))for(var s in n)n.hasOwnProperty(s)&&i(s,e,t,n,r)},slice:function(e,t,n,r){if(n instanceof Array){var i=n.length,o=0,a=i,s=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,(function(e,t,n,r){o=parseInt(t||o),a=parseInt(n||a),s=parseInt(r||s)})),o=o<0?Math.max(0,o+i):Math.min(i,o),a=a<0?Math.max(0,a+i):Math.min(i,a);for(var c=o;c<a;c+=s)P.trace(c+";"+t,n,r)}},eval:function _eval(x,_v,_vname){try{return $&&_v&&eval(x.replace(/@/g,"_v"))}catch(e){throw new SyntaxError("jsonPath: "+e.message+": "+x.replace(/@/g,"_v").replace(/\^/g,"_a"))}}},$=obj;if(expr&&obj&&("VALUE"==P.resultType||"PATH"==P.resultType))return P.trace(P.normalize(expr).replace(/^\$;/,""),obj,"$"),!!P.result.length&&P.result}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return jsonPath}))},fc559c1db6037f379144:function(e,t,n){var r=n("971268c5be9618ca3262").sprintf,i=n("436f607eb5bb7e91dec1"),o=n("04fddb994f93fcfa2bf7"),a=n("df7b55382888b4ee215c").ERROR_MESSAGES;e.exports={validate:function(e){if("object"!==typeof e||Array.isArray(e)||null===e)throw new Error(r(a.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));return i(e,(function(e,t){if("undefined"===typeof e)throw new Error(r(a.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})),!0},isAttributeValid:function(e,t){return"string"===typeof e&&("string"===typeof t||"boolean"===typeof t||o.isNumber(t)&&o.isFinite(t))}}},fd551dfb891f1c5a1020:function(e,t,n){var r,i,o=n("9f430b8562256170e1e0"),a=n("8ec5db7d4a2a84a938d9"),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,f=t||[],l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var p=o();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),b=void 0!==e.nsecs?e.nsecs:c+1,_=h-s+(b-c)/1e4;if(_<0&&void 0===e.clockseq&&(d=d+1&16383),(_<0||h>s)&&void 0===e.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=b,i=d;var g=(1e4*(268435455&(h+=122192928e5))+b)%4294967296;f[u++]=g>>>24&255,f[u++]=g>>>16&255,f[u++]=g>>>8&255,f[u++]=255&g;var v=h/4294967296*1e4&268435455;f[u++]=v>>>8&255,f[u++]=255&v,f[u++]=v>>>24&15|16,f[u++]=v>>>16&255,f[u++]=d>>>8|128,f[u++]=255&d;for(var y=0;y<6;++y)f[u+y]=l[y];return t||a(f)}},ff287e4203ba67f8dff7:function(e,t,n){var r=n("f819b29f4efbf857daed");e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}}})}));