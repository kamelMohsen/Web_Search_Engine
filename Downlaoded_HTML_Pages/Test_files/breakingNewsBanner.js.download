!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o=i(n(1)),r=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}(0,o.default)()&&r.default.init()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"querySelector"in document&&"localStorage"in window&&"addEventListener"in window},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=(o=n(3))&&o.__esModule?o:{default:o},i=s(n(4)),l=s(n(5)),u=s(n(6));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function a(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"handleError",value:function(){this.poller.stopPolling()}},{key:"handleSuccess",value:function(e){var t=e.asset,n=t.assetId,o=t.assetUri,r=t.headline;n&&o&&r&&l.get("news/breaking-news-last-seen")!==n&&(this.focus=i.getFocussedElement(),this.poller.stopPolling(),u.update(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}(r),o),l.set("news/breaking-news-last-seen",n))}},{key:"init",value:function(){var e=this,t=u.getPollingUrl();t&&l.worksAsExpected()&&(this.poller=new r.default({url:t,timeout:3e4,success:this.handleSuccess.bind(this),error:this.handleError.bind(this)}),u.init({onClose:function(){i.setFocussedElement(e.focus),e.poller.restartPolling()}}))}}]),e}());t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t,this.polling=!0,this.poll()}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"poll",value:function(){var e=this;if(this.polling){var t=new XMLHttpRequest;"withCredentials"in t||(t=new XDomainRequest),t.open("GET",this.options.url,!0),t.onload=function(){return e.handleOnload(t)},t.onerror=function(){return e.handleError(t)},t.send()}}},{key:"stopPolling",value:function(){this.polling=!1}},{key:"restartPolling",value:function(){this.polling=!0,this.poll()}},{key:"handleOnload",value:function(e){var t=!1;try{t=JSON.parse(e.responseText)}catch(e){}t&&200===e.status?this.handleSuccess(t):this.handleError(e)}},{key:"handleError",value:function(e){this.options.error&&this.options.error(e)}},{key:"handleSuccess",value:function(e){this.options.success(e),e.pollPeriod&&(this.options.timeout=e.pollPeriod),setTimeout(this.poll.bind(this),this.options.timeout)}}]),e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFocussedElement=function(){return document.activeElement},t.setFocussedElement=function(e){"BODY"!==e.tagName&&e.focus()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.worksAsExpected=function(){var e=!1,t=null;try{"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("__storage_test_key__","__storage_test_value__"),t=window.localStorage.getItem("__storage_test_key__"),window.localStorage.removeItem("__storage_test_key__"),e="__storage_test_value__"===t)}catch(e){}return e},t.get=function(e){return window.localStorage.getItem(e)},t.set=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){i.addEventListener("click",function(){o.style.display="none",o.style.visibility="hidden",e.onClose&&e.onClose()})},t.getPollingUrl=function(){return o&&o.getAttribute("data-polling-url")},t.update=function(e,t){(function(e){r.innerHTML=e})(e),function(e){r.href=e}(t),o.style.display="block",o.style.visibility="visible"};var o=document.querySelector(".js-breaking-news-banner"),r=document.querySelector(".js-breaking-news-banner__anchor"),i=document.querySelector(".js-breaking-news-banner__button")}]);